<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Shell例子 | i采薇小楼</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="shortcut icon" href="/blog/img/favicon.ico">
    <link rel="stylesheet" href="/blog//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.ic-sugar.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <script>var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?267c5680c2ffb468ca29c45ffe6801da"; 
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
          })();
          </script>
    <meta name="description" content="i采薇个人博客, VuePress搭建, 使用了 Vdoing 主题, 学习硬件，软件等相关知识, 记录生活和技术路程, 同时分享技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="keywords" content="i采薇个人博客, VuePress搭建, 学习Java、Web、框架、微服务、工具、前端等相关知识, 记录生活和技术路程。">
    
    <link rel="preload" href="/blog/assets/css/0.styles.620e7e17.css" as="style"><link rel="preload" href="/blog/assets/js/app.ea67e90e.js" as="script"><link rel="preload" href="/blog/assets/js/3.e1a5de68.js" as="script"><link rel="preload" href="/blog/assets/js/291.034b6ef4.js" as="script"><link rel="preload" href="/blog/assets/js/162.9eac6f47.js" as="script"><link rel="preload" href="/blog/assets/js/135.b8ea3e12.js" as="script"><link rel="preload" href="/blog/assets/js/139.9cb4f8b1.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.df119c5e.js"><link rel="prefetch" href="/blog/assets/js/100.3fd42797.js"><link rel="prefetch" href="/blog/assets/js/101.4375ed2a.js"><link rel="prefetch" href="/blog/assets/js/102.e457bbd0.js"><link rel="prefetch" href="/blog/assets/js/103.9339dbd8.js"><link rel="prefetch" href="/blog/assets/js/104.7dcebe8a.js"><link rel="prefetch" href="/blog/assets/js/105.0ee14acb.js"><link rel="prefetch" href="/blog/assets/js/106.b98276d0.js"><link rel="prefetch" href="/blog/assets/js/107.90f812da.js"><link rel="prefetch" href="/blog/assets/js/108.b5185029.js"><link rel="prefetch" href="/blog/assets/js/109.c4e08af7.js"><link rel="prefetch" href="/blog/assets/js/11.843b38da.js"><link rel="prefetch" href="/blog/assets/js/110.9f63929a.js"><link rel="prefetch" href="/blog/assets/js/111.fba534ec.js"><link rel="prefetch" href="/blog/assets/js/112.0e4e8806.js"><link rel="prefetch" href="/blog/assets/js/113.83f726ca.js"><link rel="prefetch" href="/blog/assets/js/114.c4817092.js"><link rel="prefetch" href="/blog/assets/js/115.2f083712.js"><link rel="prefetch" href="/blog/assets/js/116.ca424eba.js"><link rel="prefetch" href="/blog/assets/js/117.6f390e71.js"><link rel="prefetch" href="/blog/assets/js/118.e892944e.js"><link rel="prefetch" href="/blog/assets/js/119.5e9e503b.js"><link rel="prefetch" href="/blog/assets/js/12.c8fce02f.js"><link rel="prefetch" href="/blog/assets/js/120.e4e8fa9d.js"><link rel="prefetch" href="/blog/assets/js/121.9e52ee2b.js"><link rel="prefetch" href="/blog/assets/js/122.2c53109c.js"><link rel="prefetch" href="/blog/assets/js/123.8bbde838.js"><link rel="prefetch" href="/blog/assets/js/124.de23dc44.js"><link rel="prefetch" href="/blog/assets/js/125.a2862ce0.js"><link rel="prefetch" href="/blog/assets/js/126.d7775029.js"><link rel="prefetch" href="/blog/assets/js/127.2bcd3d60.js"><link rel="prefetch" href="/blog/assets/js/128.e3874e20.js"><link rel="prefetch" href="/blog/assets/js/129.b617d730.js"><link rel="prefetch" href="/blog/assets/js/13.ee9224f5.js"><link rel="prefetch" href="/blog/assets/js/130.8e228abe.js"><link rel="prefetch" href="/blog/assets/js/131.59914ef3.js"><link rel="prefetch" href="/blog/assets/js/132.63cfd10c.js"><link rel="prefetch" href="/blog/assets/js/133.bf826681.js"><link rel="prefetch" href="/blog/assets/js/134.47802d26.js"><link rel="prefetch" href="/blog/assets/js/136.a1c0e2c6.js"><link rel="prefetch" href="/blog/assets/js/137.1ca109f5.js"><link rel="prefetch" href="/blog/assets/js/138.13c2f90c.js"><link rel="prefetch" href="/blog/assets/js/14.3e0acd5f.js"><link rel="prefetch" href="/blog/assets/js/140.369210c0.js"><link rel="prefetch" href="/blog/assets/js/141.364da066.js"><link rel="prefetch" href="/blog/assets/js/142.b00d18b9.js"><link rel="prefetch" href="/blog/assets/js/143.b941e56f.js"><link rel="prefetch" href="/blog/assets/js/144.73bafa28.js"><link rel="prefetch" href="/blog/assets/js/145.4f1c7b5c.js"><link rel="prefetch" href="/blog/assets/js/146.4f1d401a.js"><link rel="prefetch" href="/blog/assets/js/147.b4eb0cc5.js"><link rel="prefetch" href="/blog/assets/js/148.902343f7.js"><link rel="prefetch" href="/blog/assets/js/149.8206f2da.js"><link rel="prefetch" href="/blog/assets/js/15.2899e10f.js"><link rel="prefetch" href="/blog/assets/js/150.df280ada.js"><link rel="prefetch" href="/blog/assets/js/151.fdc2f11d.js"><link rel="prefetch" href="/blog/assets/js/152.e803a4d2.js"><link rel="prefetch" href="/blog/assets/js/153.23eb5023.js"><link rel="prefetch" href="/blog/assets/js/154.64cae727.js"><link rel="prefetch" href="/blog/assets/js/155.ff7a0f64.js"><link rel="prefetch" href="/blog/assets/js/156.aa10e09e.js"><link rel="prefetch" href="/blog/assets/js/157.4b325d1a.js"><link rel="prefetch" href="/blog/assets/js/158.1cefc75e.js"><link rel="prefetch" href="/blog/assets/js/159.a5983f55.js"><link rel="prefetch" href="/blog/assets/js/16.39a98da3.js"><link rel="prefetch" href="/blog/assets/js/160.996e901f.js"><link rel="prefetch" href="/blog/assets/js/161.6c7118dc.js"><link rel="prefetch" href="/blog/assets/js/163.8fa52e7d.js"><link rel="prefetch" href="/blog/assets/js/164.6d40b99c.js"><link rel="prefetch" href="/blog/assets/js/165.51a7d0b2.js"><link rel="prefetch" href="/blog/assets/js/166.09a3d625.js"><link rel="prefetch" href="/blog/assets/js/167.8e13e24f.js"><link rel="prefetch" href="/blog/assets/js/168.782f7387.js"><link rel="prefetch" href="/blog/assets/js/169.8a2bdf6f.js"><link rel="prefetch" href="/blog/assets/js/17.ae4544e1.js"><link rel="prefetch" href="/blog/assets/js/170.9dc76b8d.js"><link rel="prefetch" href="/blog/assets/js/171.03a175d1.js"><link rel="prefetch" href="/blog/assets/js/172.e37a7339.js"><link rel="prefetch" href="/blog/assets/js/173.24ae0f47.js"><link rel="prefetch" href="/blog/assets/js/174.66e16d44.js"><link rel="prefetch" href="/blog/assets/js/175.bb90ce3d.js"><link rel="prefetch" href="/blog/assets/js/176.bfa00276.js"><link rel="prefetch" href="/blog/assets/js/177.c10087cc.js"><link rel="prefetch" href="/blog/assets/js/178.fe8c148b.js"><link rel="prefetch" href="/blog/assets/js/179.fa883f44.js"><link rel="prefetch" href="/blog/assets/js/18.b1500320.js"><link rel="prefetch" href="/blog/assets/js/180.d66b5197.js"><link rel="prefetch" href="/blog/assets/js/181.d237e623.js"><link rel="prefetch" href="/blog/assets/js/182.7c841725.js"><link rel="prefetch" href="/blog/assets/js/183.09659c01.js"><link rel="prefetch" href="/blog/assets/js/184.b9a6beb7.js"><link rel="prefetch" href="/blog/assets/js/185.08a29077.js"><link rel="prefetch" href="/blog/assets/js/186.0e5ec562.js"><link rel="prefetch" href="/blog/assets/js/187.3bb6bdfc.js"><link rel="prefetch" href="/blog/assets/js/188.8de20d80.js"><link rel="prefetch" href="/blog/assets/js/189.932ecd11.js"><link rel="prefetch" href="/blog/assets/js/19.9fa91fcc.js"><link rel="prefetch" href="/blog/assets/js/190.cb4e2e6a.js"><link rel="prefetch" href="/blog/assets/js/191.6d5a1280.js"><link rel="prefetch" href="/blog/assets/js/192.9b6221ed.js"><link rel="prefetch" href="/blog/assets/js/193.64293075.js"><link rel="prefetch" href="/blog/assets/js/194.ecf21b4d.js"><link rel="prefetch" href="/blog/assets/js/195.08cea90b.js"><link rel="prefetch" href="/blog/assets/js/196.9b4f0bf9.js"><link rel="prefetch" href="/blog/assets/js/197.08c673e7.js"><link rel="prefetch" href="/blog/assets/js/198.50ddbc5e.js"><link rel="prefetch" href="/blog/assets/js/199.d2551611.js"><link rel="prefetch" href="/blog/assets/js/2.5d25eff1.js"><link rel="prefetch" href="/blog/assets/js/20.2f75ceab.js"><link rel="prefetch" href="/blog/assets/js/200.c6b57d67.js"><link rel="prefetch" href="/blog/assets/js/201.1942e900.js"><link rel="prefetch" href="/blog/assets/js/202.5c468e26.js"><link rel="prefetch" href="/blog/assets/js/203.d34100e3.js"><link rel="prefetch" href="/blog/assets/js/204.3a7758f3.js"><link rel="prefetch" href="/blog/assets/js/205.b32f28ef.js"><link rel="prefetch" href="/blog/assets/js/206.9ab3b7f6.js"><link rel="prefetch" href="/blog/assets/js/207.233156ea.js"><link rel="prefetch" href="/blog/assets/js/208.36d72da8.js"><link rel="prefetch" href="/blog/assets/js/209.06343e4b.js"><link rel="prefetch" href="/blog/assets/js/21.b1f0337b.js"><link rel="prefetch" href="/blog/assets/js/210.0ed10c14.js"><link rel="prefetch" href="/blog/assets/js/211.b93664bb.js"><link rel="prefetch" href="/blog/assets/js/212.fe6e031f.js"><link rel="prefetch" href="/blog/assets/js/213.a29e1b2c.js"><link rel="prefetch" href="/blog/assets/js/214.7e6aa59a.js"><link rel="prefetch" href="/blog/assets/js/215.3686da14.js"><link rel="prefetch" href="/blog/assets/js/216.fc1c62a7.js"><link rel="prefetch" href="/blog/assets/js/217.fb4ca48b.js"><link rel="prefetch" href="/blog/assets/js/218.1064e2ed.js"><link rel="prefetch" href="/blog/assets/js/219.1a1b322c.js"><link rel="prefetch" href="/blog/assets/js/22.cbd9aaaf.js"><link rel="prefetch" href="/blog/assets/js/220.c500c4dd.js"><link rel="prefetch" href="/blog/assets/js/221.88365bfc.js"><link rel="prefetch" href="/blog/assets/js/222.6d0acb84.js"><link rel="prefetch" href="/blog/assets/js/223.fb97fafa.js"><link rel="prefetch" href="/blog/assets/js/224.93cb5a97.js"><link rel="prefetch" href="/blog/assets/js/225.d233a695.js"><link rel="prefetch" href="/blog/assets/js/226.67b34554.js"><link rel="prefetch" href="/blog/assets/js/227.6b824793.js"><link rel="prefetch" href="/blog/assets/js/228.53b1870f.js"><link rel="prefetch" href="/blog/assets/js/229.06182365.js"><link rel="prefetch" href="/blog/assets/js/23.fcfbe4e9.js"><link rel="prefetch" href="/blog/assets/js/230.87a03fea.js"><link rel="prefetch" href="/blog/assets/js/231.f380790c.js"><link rel="prefetch" href="/blog/assets/js/232.c81bbb14.js"><link rel="prefetch" href="/blog/assets/js/233.c35e7666.js"><link rel="prefetch" href="/blog/assets/js/234.ecbf2637.js"><link rel="prefetch" href="/blog/assets/js/235.c3da9357.js"><link rel="prefetch" href="/blog/assets/js/236.f3ffb7ac.js"><link rel="prefetch" href="/blog/assets/js/237.a5dc4524.js"><link rel="prefetch" href="/blog/assets/js/238.a9aefdd9.js"><link rel="prefetch" href="/blog/assets/js/239.26e0b1a4.js"><link rel="prefetch" href="/blog/assets/js/24.bc2e5189.js"><link rel="prefetch" href="/blog/assets/js/240.17448cb2.js"><link rel="prefetch" href="/blog/assets/js/241.9451f9e6.js"><link rel="prefetch" href="/blog/assets/js/242.9a20613c.js"><link rel="prefetch" href="/blog/assets/js/243.e403b85c.js"><link rel="prefetch" href="/blog/assets/js/244.1b61b8c3.js"><link rel="prefetch" href="/blog/assets/js/245.899bf4da.js"><link rel="prefetch" href="/blog/assets/js/246.03089de3.js"><link rel="prefetch" href="/blog/assets/js/247.e7fef5e2.js"><link rel="prefetch" href="/blog/assets/js/248.65ace103.js"><link rel="prefetch" href="/blog/assets/js/249.6de8a02b.js"><link rel="prefetch" href="/blog/assets/js/25.0e70ee83.js"><link rel="prefetch" href="/blog/assets/js/250.2d63ea88.js"><link rel="prefetch" href="/blog/assets/js/251.41dd8862.js"><link rel="prefetch" href="/blog/assets/js/252.cfc77ba7.js"><link rel="prefetch" href="/blog/assets/js/253.43917c31.js"><link rel="prefetch" href="/blog/assets/js/254.0021f13b.js"><link rel="prefetch" href="/blog/assets/js/255.b3c3f64f.js"><link rel="prefetch" href="/blog/assets/js/256.27e7d858.js"><link rel="prefetch" href="/blog/assets/js/257.831bd886.js"><link rel="prefetch" href="/blog/assets/js/258.2151af79.js"><link rel="prefetch" href="/blog/assets/js/259.02bfb961.js"><link rel="prefetch" href="/blog/assets/js/26.09e57ef7.js"><link rel="prefetch" href="/blog/assets/js/260.5deb48da.js"><link rel="prefetch" href="/blog/assets/js/261.f9ef3ffe.js"><link rel="prefetch" href="/blog/assets/js/262.f79bdcb6.js"><link rel="prefetch" href="/blog/assets/js/263.64bd7fff.js"><link rel="prefetch" href="/blog/assets/js/264.df18e71c.js"><link rel="prefetch" href="/blog/assets/js/265.09b88174.js"><link rel="prefetch" href="/blog/assets/js/266.2b47c601.js"><link rel="prefetch" href="/blog/assets/js/267.f3f07b08.js"><link rel="prefetch" href="/blog/assets/js/268.c708dceb.js"><link rel="prefetch" href="/blog/assets/js/269.f94d433c.js"><link rel="prefetch" href="/blog/assets/js/27.21453d03.js"><link rel="prefetch" href="/blog/assets/js/270.fc18223d.js"><link rel="prefetch" href="/blog/assets/js/271.036f746d.js"><link rel="prefetch" href="/blog/assets/js/272.56fd78e9.js"><link rel="prefetch" href="/blog/assets/js/273.d410f793.js"><link rel="prefetch" href="/blog/assets/js/274.fa2f6496.js"><link rel="prefetch" href="/blog/assets/js/275.e7925db2.js"><link rel="prefetch" href="/blog/assets/js/276.c09d5387.js"><link rel="prefetch" href="/blog/assets/js/277.8ec6b964.js"><link rel="prefetch" href="/blog/assets/js/278.eb1916e7.js"><link rel="prefetch" href="/blog/assets/js/279.6d8470f5.js"><link rel="prefetch" href="/blog/assets/js/28.675d9643.js"><link rel="prefetch" href="/blog/assets/js/280.885a3394.js"><link rel="prefetch" href="/blog/assets/js/281.d99884fa.js"><link rel="prefetch" href="/blog/assets/js/282.efa7eaf0.js"><link rel="prefetch" href="/blog/assets/js/283.afa3ea8f.js"><link rel="prefetch" href="/blog/assets/js/284.c17199f1.js"><link rel="prefetch" href="/blog/assets/js/285.259b291a.js"><link rel="prefetch" href="/blog/assets/js/286.8a146137.js"><link rel="prefetch" href="/blog/assets/js/287.e34d301b.js"><link rel="prefetch" href="/blog/assets/js/288.4a0e8e2b.js"><link rel="prefetch" href="/blog/assets/js/289.cd887ca1.js"><link rel="prefetch" href="/blog/assets/js/29.d7037cf7.js"><link rel="prefetch" href="/blog/assets/js/290.d5957e22.js"><link rel="prefetch" href="/blog/assets/js/292.7f2f69dd.js"><link rel="prefetch" href="/blog/assets/js/293.5d355552.js"><link rel="prefetch" href="/blog/assets/js/294.d9de9528.js"><link rel="prefetch" href="/blog/assets/js/295.e4fc31a2.js"><link rel="prefetch" href="/blog/assets/js/296.92cbc21f.js"><link rel="prefetch" href="/blog/assets/js/297.62406f83.js"><link rel="prefetch" href="/blog/assets/js/298.fab3e9c2.js"><link rel="prefetch" href="/blog/assets/js/299.34bebbbb.js"><link rel="prefetch" href="/blog/assets/js/30.3bac1b32.js"><link rel="prefetch" href="/blog/assets/js/300.25ff1bcb.js"><link rel="prefetch" href="/blog/assets/js/301.9e5ecaf2.js"><link rel="prefetch" href="/blog/assets/js/302.5c163e93.js"><link rel="prefetch" href="/blog/assets/js/303.76b16122.js"><link rel="prefetch" href="/blog/assets/js/304.05ad9f55.js"><link rel="prefetch" href="/blog/assets/js/305.c25dac15.js"><link rel="prefetch" href="/blog/assets/js/306.0bd59fc6.js"><link rel="prefetch" href="/blog/assets/js/307.adef0f7b.js"><link rel="prefetch" href="/blog/assets/js/308.66a2c1e5.js"><link rel="prefetch" href="/blog/assets/js/309.dd92e963.js"><link rel="prefetch" href="/blog/assets/js/31.a0d742b6.js"><link rel="prefetch" href="/blog/assets/js/32.234ed83b.js"><link rel="prefetch" href="/blog/assets/js/33.6841d01b.js"><link rel="prefetch" href="/blog/assets/js/34.73d6053e.js"><link rel="prefetch" href="/blog/assets/js/35.4695f69f.js"><link rel="prefetch" href="/blog/assets/js/36.41820579.js"><link rel="prefetch" href="/blog/assets/js/37.b23fafe2.js"><link rel="prefetch" href="/blog/assets/js/38.4fe6d2b8.js"><link rel="prefetch" href="/blog/assets/js/39.dddfd752.js"><link rel="prefetch" href="/blog/assets/js/4.ed4ee490.js"><link rel="prefetch" href="/blog/assets/js/40.3d651bc1.js"><link rel="prefetch" href="/blog/assets/js/41.a60259bb.js"><link rel="prefetch" href="/blog/assets/js/42.f06fca3f.js"><link rel="prefetch" href="/blog/assets/js/43.8118f58e.js"><link rel="prefetch" href="/blog/assets/js/44.b2630f3d.js"><link rel="prefetch" href="/blog/assets/js/45.7c8c4f09.js"><link rel="prefetch" href="/blog/assets/js/46.9c265d75.js"><link rel="prefetch" href="/blog/assets/js/47.18ff4626.js"><link rel="prefetch" href="/blog/assets/js/48.e65ee7f9.js"><link rel="prefetch" href="/blog/assets/js/49.fefa2691.js"><link rel="prefetch" href="/blog/assets/js/5.df6e5958.js"><link rel="prefetch" href="/blog/assets/js/50.dd2f9bfa.js"><link rel="prefetch" href="/blog/assets/js/51.9ba67c07.js"><link rel="prefetch" href="/blog/assets/js/52.5258989d.js"><link rel="prefetch" href="/blog/assets/js/53.8de4b85b.js"><link rel="prefetch" href="/blog/assets/js/54.c7158bad.js"><link rel="prefetch" href="/blog/assets/js/55.209d1ff8.js"><link rel="prefetch" href="/blog/assets/js/56.f915c3cc.js"><link rel="prefetch" href="/blog/assets/js/57.aa718bf2.js"><link rel="prefetch" href="/blog/assets/js/58.2c824ddf.js"><link rel="prefetch" href="/blog/assets/js/59.36502ee7.js"><link rel="prefetch" href="/blog/assets/js/6.2528eaa0.js"><link rel="prefetch" href="/blog/assets/js/60.3da884b9.js"><link rel="prefetch" href="/blog/assets/js/61.ad08cb7c.js"><link rel="prefetch" href="/blog/assets/js/62.6f7318a5.js"><link rel="prefetch" href="/blog/assets/js/63.51a846c7.js"><link rel="prefetch" href="/blog/assets/js/64.6c55b52a.js"><link rel="prefetch" href="/blog/assets/js/65.61477cc3.js"><link rel="prefetch" href="/blog/assets/js/66.6d03ad7c.js"><link rel="prefetch" href="/blog/assets/js/67.4d716d93.js"><link rel="prefetch" href="/blog/assets/js/68.eb691ec0.js"><link rel="prefetch" href="/blog/assets/js/69.be1d5890.js"><link rel="prefetch" href="/blog/assets/js/7.81c44173.js"><link rel="prefetch" href="/blog/assets/js/70.47c37a1e.js"><link rel="prefetch" href="/blog/assets/js/71.ca2ba458.js"><link rel="prefetch" href="/blog/assets/js/72.49cb478b.js"><link rel="prefetch" href="/blog/assets/js/73.0fa1c96e.js"><link rel="prefetch" href="/blog/assets/js/74.d6ee56c9.js"><link rel="prefetch" href="/blog/assets/js/75.6bfeffec.js"><link rel="prefetch" href="/blog/assets/js/76.b805141b.js"><link rel="prefetch" href="/blog/assets/js/77.cc8e4ade.js"><link rel="prefetch" href="/blog/assets/js/78.96c79669.js"><link rel="prefetch" href="/blog/assets/js/79.12ba7b87.js"><link rel="prefetch" href="/blog/assets/js/8.a64ec12c.js"><link rel="prefetch" href="/blog/assets/js/80.c260c0d4.js"><link rel="prefetch" href="/blog/assets/js/81.e57355e6.js"><link rel="prefetch" href="/blog/assets/js/82.1cc29b75.js"><link rel="prefetch" href="/blog/assets/js/83.9c51a4b0.js"><link rel="prefetch" href="/blog/assets/js/84.5dd7398c.js"><link rel="prefetch" href="/blog/assets/js/85.b6035659.js"><link rel="prefetch" href="/blog/assets/js/86.0523c1ce.js"><link rel="prefetch" href="/blog/assets/js/87.1620fa74.js"><link rel="prefetch" href="/blog/assets/js/88.35c5639d.js"><link rel="prefetch" href="/blog/assets/js/89.d35d8998.js"><link rel="prefetch" href="/blog/assets/js/9.37be11fd.js"><link rel="prefetch" href="/blog/assets/js/90.6ce572b7.js"><link rel="prefetch" href="/blog/assets/js/91.88a4285a.js"><link rel="prefetch" href="/blog/assets/js/92.9045c856.js"><link rel="prefetch" href="/blog/assets/js/93.bbe605e6.js"><link rel="prefetch" href="/blog/assets/js/94.cedb89fe.js"><link rel="prefetch" href="/blog/assets/js/95.ed82cee4.js"><link rel="prefetch" href="/blog/assets/js/96.522eac5e.js"><link rel="prefetch" href="/blog/assets/js/97.01c8a8cb.js"><link rel="prefetch" href="/blog/assets/js/98.c47ead7c.js"><link rel="prefetch" href="/blog/assets/js/99.dac60672.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.620e7e17.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/img/index/logo.png" alt="i采薇小楼" class="logo"> <span class="site-name can-hide">i采薇小楼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="硬件知识" class="dropdown-title"><a href="/blog/hardware/technology/hole/" class="link-title">硬件知识</a> <span class="title" style="display:none;">硬件知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hardware/technology/hole/" class="nav-link">工艺基础</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/si/sparam/" class="nav-link">信号完整性</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/use/way/" class="nav-link">原理设计</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/use/power/" class="nav-link">电源设计</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/datasheet/" class="nav-link">器件手册</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/c51/led/" class="nav-link">C51</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/stm32/info/" class="nav-link">STM32</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/vivado/ver/" class="nav-link">Vivado</a></li><li class="dropdown-item"><h4>软件技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hardware/cadence/device/" class="nav-link">Cadence</a></li><li class="dropdown-subitem"><a href="/blog/hardware/ad/rou/" class="nav-link">Altium Designer</a></li><li class="dropdown-subitem"><a href="/blog/hardware/mentor/shortkey/" class="nav-link">Mentor Graphics</a></li><li class="dropdown-subitem"><a href="/blog/hardware/pads/command/" class="nav-link">Pads</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端构建" class="dropdown-title"><a href="/blog/front/vuepress/install/" class="link-title">前端构建</a> <span class="title" style="display:none;">前端构建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front/vuepress/install/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/blog/software/csharp/" class="nav-link">C#</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件开发" class="dropdown-title"><a href="/blog/soft/springboot/use/multi/" class="link-title">软件开发</a> <span class="title" style="display:none;">软件开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/soft/springboot/use/multi/" class="nav-link">SpringBoot使用</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/webapi/info/" class="nav-link">WPF</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/python/note/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/qt/note/" class="nav-link">Qt</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/win32/hello/" class="nav-link">Win32</a></li><li class="dropdown-item"><!----> <a href="/blog/project/cplusplus/com/" class="nav-link">COM</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/skill/function/" class="nav-link">Allegro Skill</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/mentor/use/" class="nav-link">Mentor VBS</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/objectarx/version/" class="nav-link">ObjectArx二次开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维管理" class="dropdown-title"><a href="/blog/operation/docker/install/" class="link-title">运维管理</a> <span class="title" style="display:none;">运维管理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/operation/docker/install/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/centos/deploy/" class="nav-link">CentOS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/nas/install/" class="nav-link">群晖NAS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/npm/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/git/error/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux/shell/example/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Shell例子</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具使用" class="dropdown-title"><a href="/blog/tool/office/excel/formula/" class="link-title">工具使用</a> <span class="title" style="display:none;">工具使用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tool/office/excel/formula/" class="nav-link">Excel常用方法</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/other/typora/" class="nav-link">Typora过期解决</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/other/terminal/" class="nav-link">Windows Terminal美化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/blog/collect/web/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/collect/web/" class="nav-link">实用网站</a></li><li class="dropdown-item"><h4>Markdown</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/collect/markdown/syntax/" class="nav-link">语法</a></li><li class="dropdown-subitem"><a href="/blog/collect/markdown/settype/" class="nav-link">排版</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><a href="/blog/about/me/" class="link-title">关于</a> <span class="title" style="display:none;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/me/" class="nav-link">自我介绍</a></li><li class="dropdown-item"><!----> <a href="/blog/about/learn-history/" class="nav-link">学习记录</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/blog/archives/" class="nav-link">归档</a></li></ul></li></ul></div></div> <a href="https://github.com/icaiwei.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/icaiwei/icaiwei-cdn@1.0.0/images/avatar.png"> <div class="blogger-info"><h3>i采薇</h3> <span>昔我往矣，杨柳依依，今我来思，雨雪霏霏。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blog/navigation/" class="nav-link">导航站</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="硬件知识" class="dropdown-title"><a href="/blog/hardware/technology/hole/" class="link-title">硬件知识</a> <span class="title" style="display:none;">硬件知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/hardware/technology/hole/" class="nav-link">工艺基础</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/si/sparam/" class="nav-link">信号完整性</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/use/way/" class="nav-link">原理设计</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/use/power/" class="nav-link">电源设计</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/datasheet/" class="nav-link">器件手册</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/c51/led/" class="nav-link">C51</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/stm32/info/" class="nav-link">STM32</a></li><li class="dropdown-item"><!----> <a href="/blog/hardware/vivado/ver/" class="nav-link">Vivado</a></li><li class="dropdown-item"><h4>软件技巧</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/hardware/cadence/device/" class="nav-link">Cadence</a></li><li class="dropdown-subitem"><a href="/blog/hardware/ad/rou/" class="nav-link">Altium Designer</a></li><li class="dropdown-subitem"><a href="/blog/hardware/mentor/shortkey/" class="nav-link">Mentor Graphics</a></li><li class="dropdown-subitem"><a href="/blog/hardware/pads/command/" class="nav-link">Pads</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端构建" class="dropdown-title"><a href="/blog/front/vuepress/install/" class="link-title">前端构建</a> <span class="title" style="display:none;">前端构建</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/front/vuepress/install/" class="nav-link">VuePress</a></li><li class="dropdown-item"><!----> <a href="/blog/software/csharp/" class="nav-link">C#</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="软件开发" class="dropdown-title"><a href="/blog/soft/springboot/use/multi/" class="link-title">软件开发</a> <span class="title" style="display:none;">软件开发</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/soft/springboot/use/multi/" class="nav-link">SpringBoot使用</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/webapi/info/" class="nav-link">WPF</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/python/note/" class="nav-link">Python</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/qt/note/" class="nav-link">Qt</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/win32/hello/" class="nav-link">Win32</a></li><li class="dropdown-item"><!----> <a href="/blog/project/cplusplus/com/" class="nav-link">COM</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/skill/function/" class="nav-link">Allegro Skill</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/mentor/use/" class="nav-link">Mentor VBS</a></li><li class="dropdown-item"><!----> <a href="/blog/soft/objectarx/version/" class="nav-link">ObjectArx二次开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维管理" class="dropdown-title"><a href="/blog/operation/docker/install/" class="link-title">运维管理</a> <span class="title" style="display:none;">运维管理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/operation/docker/install/" class="nav-link">Docker</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/centos/deploy/" class="nav-link">CentOS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/nas/install/" class="nav-link">群晖NAS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/npm/" class="nav-link">NodeJS</a></li><li class="dropdown-item"><!----> <a href="/blog/operation/git/error/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Linux" class="dropdown-title"><!----> <span class="title" style="display:;">Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/linux/shell/example/" aria-current="page" class="nav-link router-link-exact-active router-link-active">Shell例子</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具使用" class="dropdown-title"><a href="/blog/tool/office/excel/formula/" class="link-title">工具使用</a> <span class="title" style="display:none;">工具使用</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/tool/office/excel/formula/" class="nav-link">Excel常用方法</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/other/typora/" class="nav-link">Typora过期解决</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/other/terminal/" class="nav-link">Windows Terminal美化</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/blog/collect/web/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/collect/web/" class="nav-link">实用网站</a></li><li class="dropdown-item"><h4>Markdown</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/collect/markdown/syntax/" class="nav-link">语法</a></li><li class="dropdown-subitem"><a href="/blog/collect/markdown/settype/" class="nav-link">排版</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><a href="/blog/about/me/" class="link-title">关于</a> <span class="title" style="display:none;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/me/" class="nav-link">自我介绍</a></li><li class="dropdown-item"><!----> <a href="/blog/about/learn-history/" class="nav-link">学习记录</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/blog/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/blog/archives/" class="nav-link">归档</a></li></ul></li></ul></div></div> <a href="https://github.com/icaiwei.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Shell</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/linux/shell/example/" aria-current="page" class="active sidebar-link">Shell例子</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blog/categories/?category=Linux" title="分类" data-v-06225672>Linux</a></li><li data-v-06225672><a href="/blog/categories/?category=Shell" title="分类" data-v-06225672>Shell</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://www.ic-sugar.com/blog" target="_blank" title="作者" class="beLink" data-v-06225672>i采薇</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-06-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Shell例子<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h4 id="_1-编写hello-world脚本"><a href="#_1-编写hello-world脚本" class="header-anchor">#</a> 1）编写hello world脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写hello world脚本  </span>
  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Hello World!&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_2-通过位置变量创建-linux-系统账户及密码"><a href="#_2-通过位置变量创建-linux-系统账户及密码" class="header-anchor">#</a> 2）通过位置变量创建 Linux 系统账户及密码</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 通过位置变量创建 Linux 系统账户及密码  </span>
  
<span class="token comment">#$1 是执行脚本的第一个参数,$2 是执行脚本的第二个参数  </span>
<span class="token function">useradd</span>    <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>   
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$2</span>&quot;</span>  <span class="token operator">|</span>  <span class="token function">passwd</span>  ‐‐stdin  <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-备份日志"><a href="#_3-备份日志" class="header-anchor">#</a> 3）备份日志</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
<span class="token comment"># 每周 5 使用 tar 命令备份/var/log 下的所有日志文件  </span>
<span class="token comment"># vim  /root/logbak.sh  </span>
<span class="token comment"># 编写备份脚本,备份后的文件名包含日期标签,防止后面的备份将前面的备份数据覆盖  </span>
<span class="token comment"># 注意 date 命令需要使用反引号括起来,反引号在键盘&lt;tab&gt;键上面  </span>
<span class="token function">tar</span>  <span class="token parameter variable">-czf</span>  log-<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%Y%m%d<span class="token variable">`</span></span>.tar.gz  /var/log   
  
<span class="token comment"># crontab ‐e  #编写计划任务,执行备份脚本  </span>
00  03  *  *  <span class="token number">5</span>  /root/logbak.sh  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_4-一键部署-lnmp-rpm-包版本"><a href="#_4-一键部署-lnmp-rpm-包版本" class="header-anchor">#</a> 4）一键部署 LNMP(RPM 包版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
<span class="token comment"># 一键部署 LNMP(RPM 包版本)  </span>
<span class="token comment"># 使用 yum 安装部署 LNMP,需要提前配置好 yum 源,否则该脚本会失败  </span>
<span class="token comment"># 本脚本使用于 centos7.2 或 RHEL7.2  </span>
yum ‐y <span class="token function">install</span> httpd  
yum ‐y <span class="token function">install</span> mariadb mariadb‐devel mariadb‐server  
yum ‐y <span class="token function">install</span> php  php‐mysql  
  
systemctl start httpd mariadb  
systemctl <span class="token builtin class-name">enable</span> httpd mariadb  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_5-监控内存和磁盘容量-小于给定值时报警"><a href="#_5-监控内存和磁盘容量-小于给定值时报警" class="header-anchor">#</a> 5）监控内存和磁盘容量，小于给定值时报警</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 实时监控本机内存和硬盘剩余空间,剩余内存小于500M、根分区剩余空间小于1000M时,发送报警邮件给root管理员  </span>
  
<span class="token comment"># 提取根分区剩余空间  </span>
<span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">df</span> / <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/\//{print $4}'</span><span class="token variable">)</span></span>  
  
<span class="token comment"># 提取内存剩余空间  </span>
<span class="token assign-left variable">mem_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">free</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/Mem/{print $4}'</span><span class="token variable">)</span></span>  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
<span class="token comment"># 注意内存和磁盘提取的空间大小都是以 Kb 为单位  </span>
<span class="token keyword">if</span>  <span class="token punctuation">[</span>  <span class="token variable">$disk_size</span> <span class="token parameter variable">-le</span> <span class="token number">512000</span> <span class="token parameter variable">-a</span> <span class="token variable">$mem_size</span> <span class="token parameter variable">-le</span> <span class="token number">1024000</span>  <span class="token punctuation">]</span>  
<span class="token keyword">then</span>  
    mail  ‐s  <span class="token string">&quot;Warning&quot;</span>  root  <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
  Insufficient resources,资源不足  
EOF</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_6-猜数字游戏"><a href="#_6-猜数字游戏" class="header-anchor">#</a> 6）猜数字游戏</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 脚本生成一个 100 以内的随机数,提示用户猜数字,根据用户的输入,提示用户猜对了,  </span>
<span class="token comment"># 猜小了或猜大了,直至用户猜对脚本结束。  </span>
  
<span class="token comment"># RANDOM 为系统自带的系统变量,值为 0‐32767的随机数  </span>
<span class="token comment"># 使用取余算法将随机数变为 1‐100 的随机数  </span>
<span class="token assign-left variable">num</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token environment constant">RANDOM</span>%100+1<span class="token punctuation">]</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$num</span>&quot;</span>  
  
<span class="token comment"># 使用 read 提示用户猜数字  </span>
<span class="token comment"># 使用 if 判断用户猜数字的大小关系:‐eq(等于),‐ne(不等于),‐gt(大于),‐ge(大于等于),  </span>
<span class="token comment"># ‐lt(小于),‐le(小于等于)  </span>
<span class="token keyword">while</span>  <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;计算机生成了一个 1‐100 的随机数,你猜: &quot;</span> cai  
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$cai</span> <span class="token parameter variable">-eq</span> <span class="token variable">$num</span> <span class="token punctuation">]</span>  
    <span class="token keyword">then</span>  
         <span class="token builtin class-name">echo</span> <span class="token string">&quot;恭喜,猜对了&quot;</span>  
         <span class="token builtin class-name">exit</span>  
      <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$cai</span> <span class="token parameter variable">-gt</span> <span class="token variable">$num</span> <span class="token punctuation">]</span>  
      <span class="token keyword">then</span>  
             <span class="token builtin class-name">echo</span> <span class="token string">&quot;Oops,猜大了&quot;</span>  
        <span class="token keyword">else</span>  
             <span class="token builtin class-name">echo</span> <span class="token string">&quot;Oops,猜小了&quot;</span>  
   <span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_7-检测本机当前用户是否为超级管理员-如果是管理员-则使用-yum-安装-vsftpd-如果不是-则提示您非管理员-使用字串对比版本"><a href="#_7-检测本机当前用户是否为超级管理员-如果是管理员-则使用-yum-安装-vsftpd-如果不是-则提示您非管理员-使用字串对比版本" class="header-anchor">#</a> 7）检测本机当前用户是否为超级管理员,如果是管理员,则使用 yum 安装 vsftpd,如果不是,则提示您非管理员(使用字串对比版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 检测本机当前用户是否为超级管理员,如果是管理员,则使用 yum 安装 vsftpd,如果不  </span>
<span class="token comment"># 是,则提示您非管理员(使用字串对比版本)   </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$USER</span> <span class="token operator">==</span> <span class="token string">&quot;root&quot;</span> <span class="token punctuation">]</span>  
<span class="token keyword">then</span>  
  yum ‐y <span class="token function">install</span> vsftpd  
<span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;您不是管理员,没有权限安装软件&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_8-检测本机当前用户是否为超级管理员-如果是管理员-则使用-yum-安装-vsftpd-如果不是-则提示您非管理员-使用-uid-数字对比版本"><a href="#_8-检测本机当前用户是否为超级管理员-如果是管理员-则使用-yum-安装-vsftpd-如果不是-则提示您非管理员-使用-uid-数字对比版本" class="header-anchor">#</a> 8）检测本机当前用户是否为超级管理员,如果是管理员,则使用 yum 安装 vsftpd,如果不是,则提示您非管理员(使用 UID 数字对比版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 检测本机当前用户是否为超级管理员,如果是管理员,则使用 yum 安装 vsftpd,如果不  </span>
<span class="token comment"># 是,则提示您非管理员(使用 UID 数字对比版本)  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token environment constant">$UID</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    yum ‐y <span class="token function">install</span> vsftpd  
<span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;您不是管理员,没有权限安装软件&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_9-编写脚本-提示用户输入用户名和密码-脚本自动创建相应的账户及配置密码。如果用户不输入账户名-则提示必须输入账户名并退出脚本-如果用户不输入密码-则统一使用默认的-123456-作为默认密码。"><a href="#_9-编写脚本-提示用户输入用户名和密码-脚本自动创建相应的账户及配置密码。如果用户不输入账户名-则提示必须输入账户名并退出脚本-如果用户不输入密码-则统一使用默认的-123456-作为默认密码。" class="header-anchor">#</a> 9）编写脚本:提示用户输入用户名和密码,脚本自动创建相应的账户及配置密码。如果用户不输入账户名,则提示必须输入账户名并退出脚本;如果用户不输入密码,则统一使用默认的 123456 作为默认密码。</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本:提示用户输入用户名和密码,脚本自动创建相应的账户及配置密码。如果用户  </span>
<span class="token comment"># 不输入账户名,则提示必须输入账户名并退出脚本;如果用户不输入密码,则统一使用默  </span>
<span class="token comment"># 认的 123456 作为默认密码。  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入用户名: &quot;</span> user  
<span class="token comment">#使用‐z 可以判断一个变量是否为空,如果为空,提示用户必须输入账户名,并退出脚本,退出码为 2  </span>
<span class="token comment">#没有输入用户名脚本退出后,使用$?查看的返回码为 2  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$user</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;您不需输入账户名&quot;</span>  
   <span class="token builtin class-name">exit</span> <span class="token number">2</span>  
<span class="token keyword">fi</span>  
<span class="token comment">#使用 stty ‐echo 关闭 shell 的回显功能  </span>
<span class="token comment">#使用 stty  echo 打开 shell 的回显功能  </span>
stty <span class="token parameter variable">-echo</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入密码: &quot;</span> pass  
stty <span class="token builtin class-name">echo</span>  
<span class="token assign-left variable">pass</span><span class="token operator">=</span><span class="token variable">${pass<span class="token operator">:</span>‐123456}</span>  
<span class="token function">useradd</span> <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$pass</span>&quot;</span> <span class="token operator">|</span> <span class="token function">passwd</span> ‐‐stdin <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_10-输入三个数并进行升序排序"><a href="#_10-输入三个数并进行升序排序" class="header-anchor">#</a> 10）输入三个数并进行升序排序</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 依次提示用户输入 3 个整数,脚本根据数字大小依次排序输出 3 个数字  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个整数:&quot;</span> num1  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个整数:&quot;</span> num2  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个整数:&quot;</span> num3  
<span class="token comment"># 不管谁大谁小,最后都打印 echo &quot;$num1,$num2,$num3&quot;  </span>
<span class="token comment"># num1 中永远存最小的值,num2 中永远存中间值,num3 永远存最大值  </span>
<span class="token comment"># 如果输入的不是这样的顺序,则改变数的存储顺序,如:可以将 num1 和 num2 的值对调  </span>
<span class="token assign-left variable">tmp</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token comment"># 如果 num1 大于 num2,就把 num1 和和 num2 的值对调,确保 num1 变量中存的是最小值  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num1</span> <span class="token parameter variable">-gt</span> <span class="token variable">$num2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>     
  <span class="token assign-left variable">tmp</span><span class="token operator">=</span><span class="token variable">$num1</span>  
  <span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token variable">$num2</span>  
  <span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token variable">$tmp</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 如果 num1 大于 num3,就把 num1 和 num3 对调,确保 num1 变量中存的是最小值  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num1</span> <span class="token parameter variable">-gt</span> <span class="token variable">$num3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>     
    <span class="token assign-left variable">tmp</span><span class="token operator">=</span><span class="token variable">$num1</span>  
    <span class="token assign-left variable">num1</span><span class="token operator">=</span><span class="token variable">$num3</span>  
    <span class="token assign-left variable">num3</span><span class="token operator">=</span><span class="token variable">$tmp</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 如果 num2 大于 num3,就把 num2 和 num3 对标,确保 num2 变量中存的是小一点的值  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num2</span> <span class="token parameter variable">-gt</span> <span class="token variable">$num3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token assign-left variable">tmp</span><span class="token operator">=</span><span class="token variable">$num2</span>  
    <span class="token assign-left variable">num2</span><span class="token operator">=</span><span class="token variable">$num3</span>  
    <span class="token assign-left variable">num3</span><span class="token operator">=</span><span class="token variable">$tmp</span>  
<span class="token keyword">fi</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;排序后数据(从小到大)为:<span class="token variable">$num1</span>,<span class="token variable">$num2</span>,<span class="token variable">$num3</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="_11-石头、剪刀、布游戏"><a href="#_11-石头、剪刀、布游戏" class="header-anchor">#</a> 11）石头、剪刀、布游戏</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本,实现人机&lt;石头,剪刀,布&gt;游戏  </span>
<span class="token assign-left variable">game</span><span class="token operator">=</span><span class="token punctuation">(</span>石头 剪刀 布<span class="token punctuation">)</span>  
<span class="token assign-left variable">num</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token environment constant">RANDOM</span>%3<span class="token punctuation">]</span>  
<span class="token assign-left variable">computer</span><span class="token operator">=</span><span class="token variable">${game<span class="token punctuation">[</span>$num<span class="token punctuation">]</span>}</span>  
<span class="token comment"># 通过随机数获取计算机的出拳  </span>
<span class="token comment"># 出拳的可能性保存在一个数组中,game[0],game[1],game[2]分别是 3 中不同的可能  </span>
  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;请根据下列提示选择您的出拳手势&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;1.石头&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;2.剪刀&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;3.布&quot;</span>  
  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请选择 1‐3:&quot;</span> person  
<span class="token keyword">case</span>  <span class="token variable">$person</span>  <span class="token keyword">in</span>  
<span class="token number">1</span><span class="token punctuation">)</span>  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>  
  <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;平局&quot;</span>  
    <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">1</span> <span class="token punctuation">]</span>  
    <span class="token keyword">then</span>  
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;你赢&quot;</span>  
  <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;计算机赢&quot;</span>  
  <span class="token keyword">fi</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  
<span class="token number">2</span><span class="token punctuation">)</span>     
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>  
  <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;计算机赢&quot;</span>  
    <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">1</span> <span class="token punctuation">]</span>  
    <span class="token keyword">then</span>  
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;平局&quot;</span>  
  <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;你赢&quot;</span>  
  <span class="token keyword">fi</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  
<span class="token number">3</span><span class="token punctuation">)</span>  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>  
  <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;你赢&quot;</span>  
    <span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-eq</span> <span class="token number">1</span> <span class="token punctuation">]</span>  
    <span class="token keyword">then</span>  
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;计算机赢&quot;</span>  
  <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;平局&quot;</span>  
  <span class="token keyword">fi</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  
*<span class="token punctuation">)</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;必须输入 1‐3 的数字&quot;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><h4 id="_12-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-for-版本"><a href="#_12-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-for-版本" class="header-anchor">#</a> 12）编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机状态(for 版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机  </span>
<span class="token comment"># 状态(for 版本)  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">254</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
  <span class="token comment"># 每隔0.3秒ping一次，一共ping2次，并以1毫秒为单位设置ping的超时时间  </span>
     <span class="token function">ping</span> ‐c <span class="token number">2</span> ‐i <span class="token number">0.3</span> ‐W <span class="token number">1</span> <span class="token number">192.168</span>.4.<span class="token variable">$i</span>  <span class="token operator">&amp;&gt;</span>/dev/null  
    <span class="token keyword">if</span>  <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
         <span class="token builtin class-name">echo</span> <span class="token string">&quot;192.168.4.<span class="token variable">$i</span> is up&quot;</span>  
     <span class="token keyword">else</span>  
         <span class="token builtin class-name">echo</span>  <span class="token string">&quot;192.168.4.<span class="token variable">$i</span> is down&quot;</span>  
     <span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_13-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-while-版本"><a href="#_13-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-while-版本" class="header-anchor">#</a> 13）编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机状态(while 版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机  </span>
<span class="token comment"># 状态(while 版本)   </span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">1</span>  
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-le</span> <span class="token number">254</span> <span class="token punctuation">]</span>  
<span class="token keyword">do</span>  
     <span class="token function">ping</span> ‐c <span class="token number">2</span> ‐i <span class="token number">0.3</span> ‐W <span class="token number">1</span> <span class="token number">192.168</span>.4.<span class="token variable">$i</span>  <span class="token operator">&amp;&gt;</span>/dev/null  
     <span class="token keyword">if</span>  <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
         <span class="token builtin class-name">echo</span> <span class="token string">&quot;192.168.4.<span class="token variable">$i</span> is up&quot;</span>  
    <span class="token keyword">else</span>  
         <span class="token builtin class-name">echo</span>  <span class="token string">&quot;192.168.4.<span class="token variable">$i</span> is down&quot;</span>  
     <span class="token keyword">fi</span>  
     <span class="token builtin class-name">let</span> i++  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_14-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-多进程版"><a href="#_14-编写脚本测试-192-168-4-0-24-整个网段中哪些主机处于开机状态-哪些主机处于关机状态-多进程版" class="header-anchor">#</a> 14）编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机状态(多进程版)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本测试 192.168.4.0/24 整个网段中哪些主机处于开机状态,哪些主机处于关机  </span>
<span class="token comment"># 状态(多进程版)  </span>
<span class="token comment">#定义一个函数,ping 某一台主机,并检测主机的存活状态  </span>
<span class="token function-name function">myping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token function">ping</span> ‐c <span class="token number">2</span> ‐i <span class="token number">0.3</span> ‐W <span class="token number">1</span> <span class="token variable">$1</span>  <span class="token operator">&amp;&gt;</span>/dev/null  
<span class="token keyword">if</span>  <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> is up&quot;</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$1</span> is down&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token punctuation">}</span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">254</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
     myping <span class="token number">192.168</span>.4.<span class="token variable">$i</span> <span class="token operator">&amp;</span>  
<span class="token keyword">done</span>  
<span class="token comment"># 使用&amp;符号,将执行的函数放入后台执行  </span>
<span class="token comment"># 这样做的好处是不需要等待ping第一台主机的回应,就可以继续并发ping第二台主机,依次类推。  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_15-编写脚本-显示进度条"><a href="#_15-编写脚本-显示进度条" class="header-anchor">#</a> 15）编写脚本,显示进度条</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本,显示进度条  </span>
<span class="token function-name function">jindu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
     <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">'#'</span>  
     <span class="token function">sleep</span> <span class="token number">0.2</span>  
<span class="token keyword">done</span>  
<span class="token punctuation">}</span>  
jindu <span class="token operator">&amp;</span>  
<span class="token function">cp</span> <span class="token parameter variable">-a</span> <span class="token variable">$1</span> <span class="token variable">$2</span>  
<span class="token function">killall</span> <span class="token variable">$0</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;拷贝完成&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_16-进度条-动态时针版本-定义一个显示进度的函数-屏幕快速显示-‐"><a href="#_16-进度条-动态时针版本-定义一个显示进度的函数-屏幕快速显示-‐" class="header-anchor">#</a> 16）进度条,动态时针版本；定义一个显示进度的函数,屏幕快速显示|  / ‐ \</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 进度条,动态时针版本  </span>
<span class="token comment"># 定义一个显示进度的函数,屏幕快速显示|  / ‐ \  </span>
<span class="token function-name function">rotate_line</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token assign-left variable">INTERVAL</span><span class="token operator">=</span><span class="token number">0.5</span>  <span class="token comment">#设置间隔时间  </span>
<span class="token assign-left variable">COUNT</span><span class="token operator">=</span><span class="token string">&quot;0&quot;</span>     <span class="token comment">#设置4个形状的编号,默认编号为 0(不代表任何图像)  </span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  <span class="token assign-left variable">COUNT</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $COUNT + <span class="token number">1</span><span class="token variable">`</span></span> <span class="token comment">#执行循环,COUNT 每次循环加 1,(分别代表4种不同的形状)  </span>
  <span class="token keyword">case</span> <span class="token variable">$COUNT</span> <span class="token keyword">in</span>          <span class="token comment">#判断 COUNT 的值,值不一样显示的形状就不一样  </span>
  <span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span>                    <span class="token comment">#值为 1 显示‐  </span>
          <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">'‐'</span><span class="token string">&quot;<span class="token entity" title="\b">\b</span><span class="token entity" title="\c">\c</span>&quot;</span>  
          <span class="token function">sleep</span> <span class="token variable">$INTERVAL</span>  
          <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span>                  <span class="token comment">#值为 2 显示\\,第一个\是转义  </span>
          <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">'\\'</span><span class="token string">&quot;<span class="token entity" title="\b">\b</span><span class="token entity" title="\c">\c</span>&quot;</span>  
          <span class="token function">sleep</span> <span class="token variable">$INTERVAL</span>  
          <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span>                  <span class="token comment">#值为 3 显示|  </span>
          <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;|<span class="token entity" title="\b">\b</span><span class="token entity" title="\c">\c</span>&quot;</span>  
          <span class="token function">sleep</span> <span class="token variable">$INTERVAL</span>  
          <span class="token punctuation">;</span><span class="token punctuation">;</span>  
   <span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span>                   <span class="token comment">#值为 4 显示/  </span>
          <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;/<span class="token entity" title="\b">\b</span><span class="token entity" title="\c">\c</span>&quot;</span>  
          <span class="token function">sleep</span> <span class="token variable">$INTERVAL</span>  
          <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    *<span class="token punctuation">)</span>                    <span class="token comment">#值为其他时,将 COUNT 重置为 0  </span>
          <span class="token assign-left variable">COUNT</span><span class="token operator">=</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  
    <span class="token keyword">esac</span>  
<span class="token keyword">done</span>  
<span class="token punctuation">}</span>  
rotate_line  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_17-9-9-乘法表"><a href="#_17-9-9-乘法表" class="header-anchor">#</a> 17）9*9 乘法表</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 9*9 乘法表(编写 shell 脚本,打印 9*9 乘法表)   </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">9</span><span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
    <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> $i<span class="token variable">`</span></span>  
     <span class="token keyword">do</span>  
         <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$j</span>*<span class="token variable">$i</span>=$[i*j]  &quot;</span>  
     <span class="token keyword">done</span>  
    <span class="token builtin class-name">echo</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_18-使用死循环实时显示-eth0-网卡发送的数据包流量"><a href="#_18-使用死循环实时显示-eth0-网卡发送的数据包流量" class="header-anchor">#</a> 18）使用死循环实时显示 eth0 网卡发送的数据包流量</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用死循环实时显示 eth0 网卡发送的数据包流量   </span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
   <span class="token builtin class-name">echo</span>  <span class="token string">'本地网卡 eth0 流量信息如下: '</span>  
    <span class="token function">ifconfig</span> eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;RX pack&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $5}'</span>  
    <span class="token function">ifconfig</span> eth0 <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;TX pack&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $5}'</span>  
     <span class="token function">sleep</span> <span class="token number">1</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_19-使用-user-txt-文件中的人员名单-在计算机中自动创建对应的账户并配置初始密码本脚本执行-需要提前准备一个-user-txt-文件-该文件中包含有若干用户名信息"><a href="#_19-使用-user-txt-文件中的人员名单-在计算机中自动创建对应的账户并配置初始密码本脚本执行-需要提前准备一个-user-txt-文件-该文件中包含有若干用户名信息" class="header-anchor">#</a> 19）使用 user.txt 文件中的人员名单,在计算机中自动创建对应的账户并配置初始密码本脚本执行,需要提前准备一个 user.txt 文件,该文件中包含有若干用户名信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用 user.txt 文件中的人员名单,在计算机中自动创建对应的账户并配置初始密码  </span>
<span class="token comment"># 本脚本执行,需要提前准备一个 user.txt 文件,该文件中包含有若干用户名信息  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> user.txt<span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
     <span class="token function">useradd</span>  <span class="token variable">$i</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;123456&quot;</span> <span class="token operator">|</span> <span class="token function">passwd</span> ‐‐stdin <span class="token variable">$i</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_20-编写批量修改扩展名脚本"><a href="#_20-编写批量修改扩展名脚本" class="header-anchor">#</a> 20）编写批量修改扩展名脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写批量修改扩展名脚本,如批量将 txt 文件修改为 doc 文件   </span>
<span class="token comment"># 执行脚本时,需要给脚本添加位置参数  </span>
<span class="token comment"># 脚本名  txt  doc(可以将 txt 的扩展名修改为 doc)  </span>
<span class="token comment"># 脚本名  doc  jpg(可以将 doc 的扩展名修改为 jpg)  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> *.$1<span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
     <span class="token function">mv</span> <span class="token variable">$i</span> <span class="token variable">${i<span class="token operator">%</span>.*}</span><span class="token builtin class-name">.</span><span class="token variable">$2</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_21-使用-expect-工具自动交互密码远程其他主机安装-httpd-软件"><a href="#_21-使用-expect-工具自动交互密码远程其他主机安装-httpd-软件" class="header-anchor">#</a> 21）使用 expect 工具自动交互密码远程其他主机安装 httpd 软件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用 expect 工具自动交互密码远程其他主机安装 httpd 软件   </span>
  
<span class="token comment"># 删除~/.ssh/known_hosts 后,ssh 远程任何主机都会询问是否确认要连接该主机  </span>
<span class="token function">rm</span>  ‐rf  ~/.ssh/known_hosts  
<span class="token function">expect</span> <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
spawn ssh 192.168.4.254  
expect &quot;yes/no&quot; {send &quot;yes<span class="token entity" title="\r">\r</span>&quot;}  
# 根据自己的实际情况将密码修改为真实的密码字串  
expect &quot;password&quot; {send  &quot;密码<span class="token entity" title="\r">\r</span>&quot;}  
expect &quot;#&quot; {send  &quot;yum ‐y install httpd<span class="token entity" title="\r">\r</span>&quot;}  
expect &quot;#&quot; {send  &quot;exit<span class="token entity" title="\r">\r</span>&quot;}  
EOF</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_22-一键部署-lnmp-源码安装版本"><a href="#_22-一键部署-lnmp-源码安装版本" class="header-anchor">#</a> 22）一键部署 LNMP(源码安装版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 一键部署 LNMP(源码安装版本)  </span>
<span class="token function-name function">menu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
<span class="token function">clear</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;  ##############‐‐‐‐Menu‐‐‐‐##############&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# 1. Install Nginx&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# 2. Install MySQL&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# 3. Install PHP&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# 4. Exit Program&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;  ########################################&quot;</span>  
<span class="token punctuation">}</span>  
  
<span class="token function-name function">choice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;Please choice a menu[1‐9]:&quot;</span> <span class="token keyword">select</span>  
<span class="token punctuation">}</span>  
  
<span class="token function-name function">install_nginx</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
  <span class="token function">id</span> nginx <span class="token operator">&amp;&gt;</span>/dev/null  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token function">useradd</span> <span class="token parameter variable">-s</span> /sbin/nologin nginx  
  <span class="token keyword">fi</span>  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> nginx‐1.8.0.tar.gz <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token function">tar</span> <span class="token parameter variable">-xf</span> nginx‐1.8.0.tar.gz  
    <span class="token builtin class-name">cd</span> nginx‐1.8.0  
    yum <span class="token parameter variable">-y</span> <span class="token function">install</span>  gcc pcre‐devel openssl‐devel zlib‐devel <span class="token function">make</span>  
    ./configure ‐‐prefix<span class="token operator">=</span>/usr/local/nginx ‐‐with‐http_ssl_module  
    <span class="token function">make</span>  
    <span class="token function">make</span> <span class="token function">install</span>  
    <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/nginx/sbin/nginx /usr/sbin/  
    <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  
  <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有 Nginx 源码包&quot;</span>  
  <span class="token keyword">fi</span>  
<span class="token punctuation">}</span>  
  
<span class="token function-name function">install_mysql</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
  yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc gcc‐c++ cmake ncurses‐devel perl  
  <span class="token function">id</span> mysql <span class="token operator">&amp;&gt;</span>/dev/null  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token function">useradd</span> <span class="token parameter variable">-s</span> /sbin/nologin mysql  
  <span class="token keyword">fi</span>  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> mysql‐5.6.25.tar.gz <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token function">tar</span> <span class="token parameter variable">-xf</span> mysql‐5.6.25.tar.gz  
    <span class="token builtin class-name">cd</span> mysql‐5.6.25  
    cmake <span class="token builtin class-name">.</span>  
    <span class="token function">make</span>  
    <span class="token function">make</span> <span class="token function">install</span>  
    /usr/local/mysql/scripts/mysql_install_db ‐‐user<span class="token operator">=</span>mysql ‐‐datadir<span class="token operator">=</span>/usr/local/mysql/data/  
‐‐basedir<span class="token operator">=</span>/usr/local/mysql/  
    <span class="token function">chown</span> <span class="token parameter variable">-R</span> root.mysql /usr/local/mysql  
    <span class="token function">chown</span> <span class="token parameter variable">-R</span> mysql /usr/local/mysql/data  
    /bin/cp <span class="token parameter variable">-f</span> /usr/local/mysql/support‐files/mysql.server /etc/init.d/mysqld  
    <span class="token function">chmod</span> +x /etc/init.d/mysqld  
    /bin/cp <span class="token parameter variable">-f</span> /usr/local/mysql/support‐files/my‐default.cnf /etc/my.cnf  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;/usr/local/mysql/lib/&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/ld.so.conf  
    ldconfig  
    <span class="token builtin class-name">echo</span> <span class="token string">'PATH=\$PATH:/usr/local/mysql/bin/'</span> <span class="token operator">&gt;&gt;</span> /etc/profile  
    <span class="token builtin class-name">export</span> <span class="token environment constant">PATH</span>  
  <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span>  <span class="token string">&quot;没有 mysql 源码包&quot;</span>  
    <span class="token builtin class-name">exit</span>  
  <span class="token keyword">fi</span>  
<span class="token punctuation">}</span>  
  
<span class="token function-name function">install_php</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
<span class="token comment">#安装 php 时没有指定启动哪些模块功能,如果的用户可以根据实际情况自行添加额外功能如‐‐with‐gd 等  </span>
yum  <span class="token parameter variable">-y</span>  <span class="token function">install</span>  gcc  libxml2‐devel  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> mhash‐0.9.9.9.tar.gz <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">tar</span> <span class="token parameter variable">-xf</span> mhash‐0.9.9.9.tar.gz  
  <span class="token builtin class-name">cd</span> mhash‐0.9.9.9  
  ./configure  
  <span class="token function">make</span>  
  <span class="token function">make</span> <span class="token function">install</span>  
  <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> ‐f /usr/lib/libmhash.so <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmhash.so /usr/lib/  
<span class="token keyword">fi</span>  
ldconfig  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有 mhash 源码包文件&quot;</span>  
  <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> libmcrypt‐2.5.8.tar.gz <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">tar</span> <span class="token parameter variable">-xf</span> libmcrypt‐2.5.8.tar.gz  
  <span class="token builtin class-name">cd</span> libmcrypt‐2.5.8  
  ./configure  
  <span class="token function">make</span>  
  <span class="token function">make</span> <span class="token function">install</span>  
  <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-f</span> /usr/lib/libmcrypt.so <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>    
    <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/lib/libmcrypt.so /usr/lib/  
  <span class="token keyword">fi</span>  
  ldconfig  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有 libmcrypt 源码包文件&quot;</span>  
  <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> php‐5.4.24.tar.gz <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">tar</span> <span class="token parameter variable">-xf</span> php‐5.4.24.tar.gz  
  <span class="token builtin class-name">cd</span> php‐5.4.24  
  ./configure  ‐‐prefix<span class="token operator">=</span>/usr/local/php5  ‐‐with‐mysql<span class="token operator">=</span>/usr/local/mysql  ‐‐enable‐fpm    ‐‐  
  enable‐mbstring  ‐‐with‐mcrypt  ‐‐with‐mhash  ‐‐with‐config‐file‐path<span class="token operator">=</span>/usr/local/php5/etc  ‐‐with‐  
  <span class="token assign-left variable">mysqli</span><span class="token operator">=</span>/usr/local/mysql/bin/mysql_config  
  <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>  
  /bin/cp <span class="token parameter variable">-f</span> php.ini‐production /usr/local/php5/etc/php.ini  
  /bin/cp <span class="token parameter variable">-f</span> /usr/local/php5/etc/php‐fpm.conf.default /usr/local/php5/etc/php‐fpm.conf  
  <span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有 php 源码包文件&quot;</span>  
  <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>   
<span class="token punctuation">}</span>  
  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  menu  
  choice  
  <span class="token keyword">case</span> <span class="token variable">$select</span> <span class="token keyword">in</span>  
  <span class="token number">1</span><span class="token punctuation">)</span>  
    install_nginx  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token number">2</span><span class="token punctuation">)</span>  
    install_mysql  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token number">3</span><span class="token punctuation">)</span>  
    install_php  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token number">4</span><span class="token punctuation">)</span>  
    <span class="token builtin class-name">exit</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  *<span class="token punctuation">)</span>  
    <span class="token builtin class-name">echo</span> Sorry<span class="token operator">!</span>  
  <span class="token keyword">esac</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br></div></div><h4 id="_23-编写脚本快速克隆-kvm-虚拟机"><a href="#_23-编写脚本快速克隆-kvm-虚拟机" class="header-anchor">#</a> 23）编写脚本快速克隆 KVM 虚拟机</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写脚本快速克隆 KVM 虚拟机  </span>
  
<span class="token comment"># 本脚本针对 RHEL7.2 或 Centos7.2  </span>
<span class="token comment"># 本脚本需要提前准备一个 qcow2 格式的虚拟机模板,  </span>
<span class="token comment"># 名称为/var/lib/libvirt/images  /.rh7_template 的虚拟机模板  </span>
<span class="token comment"># 该脚本使用 qemu‐img 命令快速创建快照虚拟机  </span>
<span class="token comment"># 脚本使用 sed 修改模板虚拟机的配置文件,将虚拟机名称、UUID、磁盘文件名、MAC 地址  </span>
<span class="token comment"># exit code:    </span>
<span class="token comment">#    65 ‐&gt; user input nothing  </span>
<span class="token comment">#    66 ‐&gt; user input is not a number  </span>
<span class="token comment">#    67 ‐&gt; user input out of range  </span>
<span class="token comment">#    68 ‐&gt; vm disk image exists  </span>
  
<span class="token assign-left variable">IMG_DIR</span><span class="token operator">=</span>/var/lib/libvirt/images  
<span class="token assign-left variable">BASEVM</span><span class="token operator">=</span>rh7_template  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;Enter VM number: &quot;</span> VMNUM  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$VMNUM</span> <span class="token parameter variable">-le</span> <span class="token number">9</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
<span class="token assign-left variable">VMNUM</span><span class="token operator">=</span><span class="token number">0</span><span class="token variable">$VMNUM</span>  
<span class="token keyword">fi</span>  
  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">${VMNUM}</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;You must input a number.&quot;</span>  
    <span class="token builtin class-name">exit</span> <span class="token number">65</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>  <span class="token variable">${VMNUM}</span> <span class="token operator">=~</span> <span class="token punctuation">[</span>a‐z<span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;You must input a number.&quot;</span>  
    <span class="token builtin class-name">exit</span> <span class="token number">66</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">${VMNUM}</span> <span class="token parameter variable">-lt</span> <span class="token number">1</span> <span class="token parameter variable">-o</span> <span class="token variable">${VMNUM}</span> <span class="token parameter variable">-gt</span> <span class="token number">99</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Input out of range&quot;</span>  
    <span class="token builtin class-name">exit</span> <span class="token number">67</span>  
<span class="token keyword">fi</span>  
  
<span class="token assign-left variable">NEWVM</span><span class="token operator">=</span>rh7_node<span class="token variable">${VMNUM}</span>  
  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> <span class="token variable">$IMG_DIR</span>/<span class="token variable">${NEWVM}</span>.img <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;File exists.&quot;</span>  
    <span class="token builtin class-name">exit</span> <span class="token number">68</span>  
<span class="token keyword">fi</span>  
  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-en</span> <span class="token string">&quot;Creating Virtual Machine disk image......<span class="token entity" title="\t">\t</span>&quot;</span>  
qemu‐img create <span class="token parameter variable">-f</span> qcow2 ‐b <span class="token variable">$IMG_DIR</span>/.<span class="token variable">${BASEVM}</span>.img <span class="token variable">$IMG_DIR</span>/<span class="token variable">${NEWVM}</span>.img <span class="token operator">&amp;&gt;</span> /dev/null  
  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\e">\e</span>[32;1m[OK]<span class="token entity" title="\e">\e</span>[0m&quot;</span>  
<span class="token comment">#virsh dumpxml ${BASEVM} &gt; /tmp/myvm.xml  </span>
  
<span class="token function">cat</span> /var/lib/libvirt/images/.rhel7.xml <span class="token operator">&gt;</span> /tmp/myvm.xml  
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/&lt;name&gt;<span class="token variable">${BASEVM}</span>/s/<span class="token variable">${BASEVM}</span>/<span class="token variable">${NEWVM}</span>/&quot;</span> /tmp/myvm.xml  
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/uuid/s/&lt;uuid&gt;.*&lt;\/uuid&gt;/&lt;uuid&gt;<span class="token variable"><span class="token variable">$(</span>uuidgen<span class="token variable">)</span></span>&lt;\/uuid&gt;/&quot;</span> /tmp/myvm.xml  
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/<span class="token variable">${BASEVM}</span>\.img/s/<span class="token variable">${BASEVM}</span>/<span class="token variable">${NEWVM}</span>/&quot;</span> /tmp/myvm.xml  
  
<span class="token comment"># 修改 MAC 地址,本例使用的是常量,每位使用该脚本的用户需要根据实际情况修改这些值   </span>
<span class="token comment"># 最好这里可以使用便利,这样更适合于批量操作,可以克隆更多虚拟机   </span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/mac /s/a1/0c/&quot;</span> /tmp/myvm.xml  
  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-en</span> <span class="token string">&quot;Defining new virtual machine......<span class="token entity" title="\t">\t</span><span class="token entity" title="\t">\t</span>&quot;</span>  
<span class="token function">virsh</span> define /tmp/myvm.xml <span class="token operator">&amp;&gt;</span> /dev/null  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\e">\e</span>[32;1m[OK]<span class="token entity" title="\e">\e</span>[0m&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><h4 id="_24-点名器脚本"><a href="#_24-点名器脚本" class="header-anchor">#</a> 24）点名器脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写一个点名器脚本  </span>
  
<span class="token comment"># 该脚本,需要提前准备一个 user.txt 文件  </span>
<span class="token comment"># 该文件中需要包含所有姓名的信息,一行一个姓名,脚本每次随机显示一个姓名  </span>
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
<span class="token comment">#统计 user 文件中有多少用户  </span>
<span class="token assign-left variable">line</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> user.txt <span class="token operator">|</span><span class="token function">wc</span> ‐l<span class="token variable">`</span></span>  
<span class="token assign-left variable">num</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token environment constant">RANDOM</span>%line+1<span class="token punctuation">]</span>  
<span class="token function">sed</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">${num}</span>p&quot;</span>  user.txt  
<span class="token function">sleep</span> <span class="token number">0.2</span>  
<span class="token function">clear</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_25-查看有多少远程的-ip-在连接本机"><a href="#_25-查看有多少远程的-ip-在连接本机" class="header-anchor">#</a> 25）查看有多少远程的 IP 在连接本机</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 查看有多少远程的 IP 在连接本机(不管是通过 ssh 还是 web 还是 ftp 都统计)   </span>
<span class="token comment"># 使用 netstat ‐atn 可以查看本机所有连接的状态,‐a 查看所有,  </span>
<span class="token comment"># -t仅显示 tcp 连接的信息,‐n 数字格式显示  </span>
<span class="token comment"># Local Address(第四列是本机的 IP 和端口信息)  </span>
<span class="token comment"># Foreign Address(第五列是远程主机的 IP 和端口信息)  </span>
<span class="token comment"># 使用 awk 命令仅显示第 5 列数据,再显示第 1 列 IP 地址的信息  </span>
<span class="token comment"># sort 可以按数字大小排序,最后使用 uniq 将多余重复的删除,并统计重复的次数  </span>
<span class="token function">netstat</span> <span class="token parameter variable">-atn</span>  <span class="token operator">|</span>  <span class="token function">awk</span>  <span class="token string">'{print $5}'</span>  <span class="token operator">|</span> <span class="token function">awk</span>  <span class="token string">'{print $1}'</span> <span class="token operator">|</span> <span class="token function">sort</span> <span class="token parameter variable">-nr</span>  <span class="token operator">|</span>  <span class="token function">uniq</span> <span class="token parameter variable">-c</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_26-对-100-以内的所有正整数相加求和-1-2-3-4-100"><a href="#_26-对-100-以内的所有正整数相加求和-1-2-3-4-100" class="header-anchor">#</a> 26）对 100 以内的所有正整数相加求和(1+2+3+4…+100)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 对 100 以内的所有正整数相加求和(1+2+3+4...+100)  </span>
<span class="token comment">#seq 100 可以快速自动生成 100 个整数  </span>
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">100</span><span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
    <span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span>sum+i<span class="token punctuation">]</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;总和是:<span class="token variable">$sum</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_27-统计-13-30-到-14-30-所有访问-apache-服务器的请求有多少个"><a href="#_27-统计-13-30-到-14-30-所有访问-apache-服务器的请求有多少个" class="header-anchor">#</a> 27）统计 13:30 到 14:30 所有访问 apache 服务器的请求有多少个</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计 13:30 到 14:30 所有访问 apache 服务器的请求有多少个  </span>
  
<span class="token comment"># awk 使用‐F 选项指定文件内容的分隔符是/或者:  </span>
<span class="token comment"># 条件判断$7:$8 大于等于 13:30,并且要求,$7:$8 小于等于 14:30  </span>
<span class="token comment"># 最后使用 wc ‐l 统计这样的数据有多少行,即多少个  </span>
<span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&quot;[ /:]&quot;</span> <span class="token string">'$7&quot;:&quot;$8&gt;=&quot;13:30&quot; &amp;&amp; $7&quot;:&quot;$8&lt;=&quot;14:30&quot;'</span> /var/log/httpd/access_log <span class="token operator">|</span><span class="token function">wc</span> <span class="token parameter variable">-l</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_28-统计-13-30-到-14-30-所有访问本机-aapche-服务器的远程-ip-地址是什么"><a href="#_28-统计-13-30-到-14-30-所有访问本机-aapche-服务器的远程-ip-地址是什么" class="header-anchor">#</a> 28）统计 13:30 到 14:30 所有访问本机 Aapche 服务器的远程 IP 地址是什么</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计 13:30 到 14:30 所有访问本机 Aapche 服务器的远程 IP 地址是什么   </span>
<span class="token comment"># awk 使用‐F 选项指定文件内容的分隔符是/或者:  </span>
<span class="token comment"># 条件判断$7:$8 大于等于 13:30,并且要求,$7:$8 小于等于 14:30  </span>
<span class="token comment"># 日志文档内容里面,第 1 列是远程主机的 IP 地址,使用 awk 单独显示第 1 列即可  </span>
<span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&quot;[ /:]&quot;</span> <span class="token string">'$7&quot;:&quot;$8&gt;=&quot;13:30&quot; &amp;&amp; $7&quot;:&quot;$8&lt;=&quot;14:30&quot;{print $1}'</span> /var/log/httpd/access_log  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_29-打印国际象棋棋盘"><a href="#_29-打印国际象棋棋盘" class="header-anchor">#</a> 29）打印国际象棋棋盘</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 打印国际象棋棋盘  </span>
<span class="token comment"># 设置两个变量,i 和 j,一个代表行,一个代表列,国际象棋为 8*8 棋盘  </span>
<span class="token comment"># i=1 是代表准备打印第一行棋盘,第 1 行棋盘有灰色和蓝色间隔输出,总共为 8 列  </span>
<span class="token comment"># i=1,j=1 代表第 1 行的第 1 列;i=2,j=3 代表第 2 行的第 3 列  </span>
<span class="token comment"># 棋盘的规律是 i+j 如果是偶数,就打印蓝色色块,如果是奇数就打印灰色色块  </span>
<span class="token comment"># 使用 echo ‐ne 打印色块,并且打印完成色块后不自动换行,在同一行继续输出其他色块  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">8</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
    <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">8</span><span class="token punctuation">}</span>  
    <span class="token keyword">do</span>  
      <span class="token assign-left variable">sum</span><span class="token operator">=</span>$<span class="token punctuation">[</span>i+j<span class="token punctuation">]</span>  
    <span class="token keyword">if</span> <span class="token punctuation">[</span>  $<span class="token punctuation">[</span>sum%2<span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
       <span class="token builtin class-name">echo</span> <span class="token parameter variable">-ne</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[46m  <span class="token entity" title="\033">\033</span>[0m&quot;</span>  
    <span class="token keyword">else</span>  
      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-ne</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[47m  <span class="token entity" title="\033">\033</span>[0m&quot;</span>  
    <span class="token keyword">fi</span>  
    <span class="token keyword">done</span>  
    <span class="token builtin class-name">echo</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_30-统计每个远程-ip-访问了本机-apache-几次"><a href="#_30-统计每个远程-ip-访问了本机-apache-几次" class="header-anchor">#</a> 30）统计每个远程 IP 访问了本机 apache 几次?</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计每个远程 IP 访问了本机 apache 几次?   </span>
<span class="token function">awk</span>  <span class="token string">'{ip[$1]++}END{for(i in ip){print ip[i],i}}'</span>  /var/log/httpd/access_log  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_31-统计当前-linux-系统中可以登录计算机的账户有多少个"><a href="#_31-统计当前-linux-系统中可以登录计算机的账户有多少个" class="header-anchor">#</a> 31）统计当前 Linux 系统中可以登录计算机的账户有多少个</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计当前 Linux 系统中可以登录计算机的账户有多少个  </span>
<span class="token comment">#方法 1:  </span>
<span class="token function">grep</span> <span class="token string">&quot;bash$&quot;</span> /etc/passwd <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span>  
<span class="token comment">#方法 2:  </span>
<span class="token function">awk</span> -f: <span class="token string">'/bash$/{x++}end{print x}'</span>  /etc/passwd  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_32-统计-var-log-有多少个文件-并显示这些文件名"><a href="#_32-统计-var-log-有多少个文件-并显示这些文件名" class="header-anchor">#</a> 32）统计/var/log 有多少个文件,并显示这些文件名</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计/var/log 有多少个文件,并显示这些文件名   </span>
<span class="token comment"># 使用 ls 递归显示所有,再判断是否为文件,如果是文件则计数器加 1  </span>
<span class="token builtin class-name">cd</span>  /var/log  
<span class="token assign-left variable">sum</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> <span class="token parameter variable">-r</span> *<span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
   <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$i</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
       <span class="token builtin class-name">let</span> sum++  
         <span class="token builtin class-name">echo</span> <span class="token string">&quot;文件名:<span class="token variable">$i</span>&quot;</span>  
     <span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;总文件数量为:<span class="token variable">$sum</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_33-自动为其他脚本添加解释器信息"><a href="#_33-自动为其他脚本添加解释器信息" class="header-anchor">#</a> 33）自动为其他脚本添加解释器信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Docker+K8s+Jenkins 主流技术全解视频资料【干货免费分享】  
  
<span class="token comment">#!/bin/bash  </span>
  
<span class="token comment"># 自动为其他脚本添加解释器信息#!/bin/bash,如脚本名为 test.sh 则效果如下:   </span>
<span class="token comment"># ./test.sh  abc.sh  自动为 abc.sh 添加解释器信息  </span>
<span class="token comment"># ./test.sh  user.sh  自动为 user.sh 添加解释器信息  </span>
<span class="token comment"># 先使用 grep 判断对象脚本是否已经有解释器信息,如果没有则使用 sed 添加解释器以及描述信息  </span>
<span class="token keyword">if</span>  <span class="token operator">!</span>  <span class="token function">grep</span>  <span class="token parameter variable">-q</span>  <span class="token string">&quot;^#!&quot;</span>  <span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
<span class="token function">sed</span>  <span class="token string">'1i #!/bin/bash'</span>  <span class="token variable">$1</span>  
<span class="token function">sed</span>  <span class="token string">'2i #Description: '</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 因为每个脚本的功能不同,作用不同,所以在给对象脚本添加完解释器信息,以及 Description 后还希望  </span>
<span class="token comment"># 继续编辑具体的脚本功能的描述信息,这里直接使用 vim 把对象脚本打开,并且光标跳转到该文件的第 2 行  </span>
<span class="token function">vim</span> +2 <span class="token variable">$1</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_34-自动化部署-varnish-源码包软件"><a href="#_34-自动化部署-varnish-源码包软件" class="header-anchor">#</a> 34）自动化部署 varnish 源码包软件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 自动化部署 varnish 源码包软件   </span>
<span class="token comment"># 本脚本需要提前下载 varnish‐3.0.6.tar.gz 这样一个源码包软件,该脚本即可用自动源码安装部署软件  </span>
  
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc readline‐devel pcre‐devel  
<span class="token function">useradd</span> <span class="token parameter variable">-s</span> /sbin/nologin varnish  
<span class="token function">tar</span> <span class="token parameter variable">-xf</span> varnish‐3.0.6.tar.gz  
<span class="token builtin class-name">cd</span> varnish‐3.0.6  
  
<span class="token comment"># 使用 configure,make,make install 源码安装软件包  </span>
./configure ‐‐prefix<span class="token operator">=</span>/usr/local/varnish  
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>  
  
<span class="token comment"># 在源码包目录下,将相应的配置文件拷贝到 Linux 系统文件系统中  </span>
<span class="token comment"># 默认安装完成后,不会自动拷贝或安装配置文件到 Linux 系统,所以需要手动 cp 复制配置文件  </span>
<span class="token comment"># 并使用 uuidgen 生成一个随机密钥的配置文件  </span>
<span class="token function">cp</span> redhat/varnish.initrc /etc/init.d/varnish  
<span class="token function">cp</span> redhat/varnish.sysconfig /etc/sysconfig/varnish  
<span class="token function">cp</span> redhat/varnish_reload_vcl /usr/bin/  
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/varnish/sbin/varnishd /usr/sbin/  
<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/varnish/bin/* /usr/bin  
<span class="token function">mkdir</span> /etc/varnish  
<span class="token function">cp</span> /usr/local/varnish/etc/varnish/default.vcl /etc/varnish/  
uuidgen <span class="token operator">&gt;</span> /etc/varnish/secret  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="_35-编写-nginx-启动脚本"><a href="#_35-编写-nginx-启动脚本" class="header-anchor">#</a> 35）编写 nginx 启动脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 编写 nginx 启动脚本   </span>
<span class="token comment"># 本脚本编写完成后,放置在/etc/init.d/目录下,就可以被 Linux 系统自动识别到该脚本  </span>
<span class="token comment"># 如果本脚本名为/etc/init.d/nginx,则 service nginx start 就可以启动该服务  </span>
<span class="token comment"># service nginx stop 就可以关闭服务  </span>
<span class="token comment"># service nginx restart 可以重启服务  </span>
<span class="token comment"># service nginx status 可以查看服务状态  </span>
<span class="token assign-left variable">program</span><span class="token operator">=</span>/usr/local/nginx/sbin/nginx  
<span class="token assign-left variable">pid</span><span class="token operator">=</span>/usr/local/nginx/logs/nginx.pid  
<span class="token function-name function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$pid</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span>  <span class="token string">&quot;nginx 服务已经处于开启状态&quot;</span>  
<span class="token keyword">else</span>  
  <span class="token variable">$program</span>  
<span class="token keyword">fi</span>  
<span class="token function-name function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> -<span class="token operator">!</span> <span class="token parameter variable">-f</span> <span class="token variable">$pid</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;nginx 服务已经关闭&quot;</span>  
<span class="token keyword">else</span>  
  <span class="token variable">$program</span> <span class="token parameter variable">-s</span> stop  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;关闭服务 ok&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token punctuation">}</span>  
<span class="token function-name function">status</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$pid</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;服务正在运行...&quot;</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;服务已经关闭&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token punctuation">}</span>  
  
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>  
start<span class="token punctuation">)</span>  
  start<span class="token punctuation">;</span><span class="token punctuation">;</span>  
stop<span class="token punctuation">)</span>  
  stop<span class="token punctuation">;</span><span class="token punctuation">;</span>  
restart<span class="token punctuation">)</span>  
  stop  
  <span class="token function">sleep</span> <span class="token number">1</span>  
  start<span class="token punctuation">;</span><span class="token punctuation">;</span>  
status<span class="token punctuation">)</span>  
  status<span class="token punctuation">;</span><span class="token punctuation">;</span>  
*<span class="token punctuation">)</span>  
  <span class="token builtin class-name">echo</span>  <span class="token string">&quot;你输入的语法格式错误&quot;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h4 id="_36-自动对磁盘分区、格式化、挂载"><a href="#_36-自动对磁盘分区、格式化、挂载" class="header-anchor">#</a> 36）自动对磁盘分区、格式化、挂载</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token comment">#!/bin/bash  </span>
  
<span class="token comment"># 自动对磁盘分区、格式化、挂载  </span>
<span class="token comment"># 对虚拟机的 vdb 磁盘进行分区格式化,使用&lt;&lt;将需要的分区指令导入给程序 fdisk  </span>
<span class="token comment"># n(新建分区),p(创建主分区),1(分区编号为 1),两个空白行(两个回车,相当于将整个磁盘分一个区)  </span>
<span class="token comment"># 注意:1 后面的两个回车(空白行)是必须的!  </span>
<span class="token function">fdisk</span> /dev/vdb <span class="token operator">&lt;&lt;</span> <span class="token string">EOF  
n  
p  
1  
  
  
wq  
EOF</span>  
<span class="token comment">#格式化刚刚创建好的分区  </span>
mkfs.xfs   /dev/vdb1  
<span class="token comment">#创建挂载点目录  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> /data <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>  
<span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token function">mkdir</span> /data  
<span class="token comment">#自动挂载刚刚创建的分区,并设置开机自动挂载该分区  </span>
<span class="token builtin class-name">echo</span> <span class="token string">'/dev/vdb1     /data    xfs    defaults        1 2'</span>  <span class="token operator">&gt;&gt;</span> /etc/fstab  
<span class="token function">mount</span> <span class="token parameter variable">-a</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_37-自动优化-linux-内核参数"><a href="#_37-自动优化-linux-内核参数" class="header-anchor">#</a> 37）自动优化 Linux 内核参数</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 自动优化 Linux 内核参数  </span>
<span class="token comment">#脚本针对 RHEL7  </span>
<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /usr/lib/sysctl.d/00‐system.conf <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
fs.file‐max=65535  
net.ipv4.tcp_timestamps = 0  
net.ipv4.tcp_synack_retries = 5  
net.ipv4.tcp_syn_retries = 5  
net.ipv4.tcp_tw_recycle = 1  
net.ipv4.tcp_tw_reuse = 1  
net.ipv4.tcp_fin_timeout = 30  
#net.ipv4.tcp_keepalive_time = 120  
net.ipv4.ip_local_port_range = 1024  65535  
kernel.shmall = 2097152  
kernel.shmmax = 2147483648  
kernel.shmmni = 4096  
kernel.sem = 5010 641280 5010 128  
net.core.wmem_default=262144  
net.core.wmem_max=262144  
net.core.rmem_default=4194304  
net.core.rmem_max=4194304  
net.ipv4.tcp_fin_timeout = 10  
net.ipv4.tcp_keepalive_time = 30  
net.ipv4.tcp_window_scaling = 0  
net.ipv4.tcp_sack = 0  
EOF</span>  
  
<span class="token function">sysctl</span> –p  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="_38-切割-nginx-日志文件-防止单个文件过大-后期处理很困难"><a href="#_38-切割-nginx-日志文件-防止单个文件过大-后期处理很困难" class="header-anchor">#</a> 38）切割 Nginx 日志文件(防止单个文件过大,后期处理很困难)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#mkdir  /data/scripts  </span>
<span class="token comment">#vim   /data/scripts/nginx_log.sh    </span>
<span class="token comment">#!/bin/bash  </span>
  
<span class="token comment"># 切割 Nginx 日志文件(防止单个文件过大,后期处理很困难)   </span>
<span class="token assign-left variable">logs_path</span><span class="token operator">=</span><span class="token string">&quot;/usr/local/nginx/logs/&quot;</span>  
<span class="token function">mv</span> <span class="token variable">${logs_path}</span>access.log <span class="token variable">${logs_path}</span>access_<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;yesterday&quot;</span> +<span class="token string">&quot;%Y%m%d&quot;</span><span class="token variable">)</span></span>.log  
<span class="token function">kill</span> <span class="token parameter variable">-USR1</span>  <span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> /usr/local/nginx/logs/nginx.pid<span class="token variable">`</span></span>  
  
<span class="token comment"># chmod +x  /data/scripts/nginx_log.sh  </span>
<span class="token comment"># crontab  ‐e                    #脚本写完后,将脚本放入计划任务每天执行一次脚本  </span>
<span class="token number">0</span>  <span class="token number">1</span>  *  *   *   /data/scripts/nginx_log.sh  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_39-检测-mysql-数据库连接数量"><a href="#_39-检测-mysql-数据库连接数量" class="header-anchor">#</a> 39）检测 MySQL 数据库连接数量</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 检测 MySQL 数据库连接数量   </span>
  
<span class="token comment"># 本脚本每 2 秒检测一次 MySQL 并发连接数,可以将本脚本设置为开机启动脚本,或在特定时间段执行  </span>
<span class="token comment"># 以满足对 MySQL 数据库的监控需求,查看 MySQL 连接是否正常  </span>
<span class="token comment"># 本案例中的用户名和密码需要根据实际情况修改后方可使用  </span>
<span class="token assign-left variable">log_file</span><span class="token operator">=</span>/var/log/mysql_count.log  
<span class="token assign-left variable">user</span><span class="token operator">=</span>root  
<span class="token assign-left variable">passwd</span><span class="token operator">=</span><span class="token number">123456</span>  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
    <span class="token function">sleep</span> <span class="token number">2</span>  
    <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>mysqladmin  <span class="token parameter variable">-u</span>  <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span>  <span class="token parameter variable">-p</span>  <span class="token string">&quot;<span class="token variable">$passwd</span>&quot;</span>   status <span class="token operator">|</span>  <span class="token function">awk</span> <span class="token string">'{print $4}'</span><span class="token variable">`</span></span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%Y‐%m‐%d<span class="token variable">`</span></span> 并发连接数为:<span class="token variable">$count</span>&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$log_file</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_40-根据-md5-校验码-检测文件是否被修改"><a href="#_40-根据-md5-校验码-检测文件是否被修改" class="header-anchor">#</a> 40）根据 md5 校验码,检测文件是否被修改</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 根据 md5 校验码,检测文件是否被修改   </span>
<span class="token comment"># 本示例脚本检测的是/etc 目录下所有的 conf 结尾的文件,根据实际情况,您可以修改为其他目录或文件  </span>
<span class="token comment"># 本脚本在目标数据没有被修改时执行一次,当怀疑数据被人篡改,再执行一次  </span>
<span class="token comment"># 将两次执行的结果做对比,MD5 码发生改变的文件,就是被人篡改的文件  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> /etc/*.conf<span class="token variable">)</span></span>  
<span class="token keyword">do</span>  
  md5sum <span class="token string">&quot;<span class="token variable">$i</span>&quot;</span> <span class="token operator">&gt;&gt;</span> /var/log/conf_file.log  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_41-检测-mysql-服务是否存活"><a href="#_41-检测-mysql-服务是否存活" class="header-anchor">#</a> 41）检测 MySQL 服务是否存活</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 检测 MySQL 服务是否存活   </span>
  
<span class="token comment"># host 为你需要检测的 MySQL 主机的 IP 地址,user 为 MySQL 账户名,passwd 为密码  </span>
<span class="token comment"># 这些信息需要根据实际情况修改后方可使用  </span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">192.168</span>.51.198  
<span class="token assign-left variable">user</span><span class="token operator">=</span>root  
<span class="token assign-left variable">passwd</span><span class="token operator">=</span><span class="token number">123456</span>  
mysqladmin <span class="token parameter variable">-h</span> <span class="token string">'$host'</span> <span class="token parameter variable">-u</span> <span class="token string">'$user'</span> -p<span class="token string">'$passwd'</span> <span class="token function">ping</span> <span class="token operator">&amp;&gt;</span>/dev/null  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>  
<span class="token keyword">then</span>  
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;MySQL is UP&quot;</span>  
<span class="token keyword">else</span>  
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;MySQL is down&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_42-备份-mysql-的-shell-脚本-mysqldump版本"><a href="#_42-备份-mysql-的-shell-脚本-mysqldump版本" class="header-anchor">#</a> 42）备份 MySQL 的 shell 脚本(mysqldump版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 备份 MySQL 的 shell 脚本(mysqldump版本)   </span>
  
<span class="token comment"># 定义变量 user(数据库用户名),passwd(数据库密码),date(备份的时间标签)  </span>
<span class="token comment"># dbname(需要备份的数据库名称,根据实际需求需要修改该变量的值,默认备份 mysql 数据库)  </span>
  
<span class="token assign-left variable">user</span><span class="token operator">=</span>root  
<span class="token assign-left variable">passwd</span><span class="token operator">=</span><span class="token number">123456</span>  
<span class="token assign-left variable">dbname</span><span class="token operator">=</span>mysql  
<span class="token assign-left variable">date</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d<span class="token variable">)</span></span>  
  
<span class="token comment"># 测试备份目录是否存在,不存在则自动创建该目录  </span>
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> /mysqlbackup <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> /mysqlbackup  
<span class="token comment"># 使用 mysqldump 命令备份数据库  </span>
mysqldump <span class="token parameter variable">-u</span> <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;<span class="token variable">$passwd</span>&quot;</span> <span class="token string">&quot;<span class="token variable">$dbname</span>&quot;</span> <span class="token operator">&gt;</span> /mysqlbackup/<span class="token string">&quot;<span class="token variable">$dbname</span>&quot;</span>-<span class="token variable">${date}</span>.sql  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_43-将文件中所有的小写字母转换为大写字母"><a href="#_43-将文件中所有的小写字母转换为大写字母" class="header-anchor">#</a> 43）将文件中所有的小写字母转换为大写字母</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 将文件中所有的小写字母转换为大写字母   </span>
<span class="token comment"># $1是位置参数,是你需要转换大小写字母的文件名称  </span>
<span class="token comment"># 执行脚本,给定一个文件名作为参数,脚本就会将该文件中所有的小写字母转换为大写字母  </span>
<span class="token function">tr</span> <span class="token string">&quot;[a‐z]&quot;</span> <span class="token string">&quot;[A‐Z]&quot;</span> <span class="token operator">&lt;</span> <span class="token variable">$1</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_44-非交互自动生成-ssh-密钥文件"><a href="#_44-非交互自动生成-ssh-密钥文件" class="header-anchor">#</a> 44）非交互自动生成 SSH 密钥文件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 非交互自动生成 SSH 密钥文件   </span>
<span class="token comment"># ‐t 指定 SSH 密钥的算法为 RSA 算法;‐N 设置密钥的密码为空;‐f 指定生成的密钥文件&gt;存放在哪里  </span>
<span class="token function">rm</span>  <span class="token parameter variable">-rf</span>  ~/.ssh/<span class="token punctuation">{</span>known_hosts,id_rsa*<span class="token punctuation">}</span>  
ssh‐keygen <span class="token parameter variable">-t</span> RSA <span class="token parameter variable">-N</span> <span class="token string">''</span> <span class="token parameter variable">-f</span> ~/.ssh/id_rsa  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_45-检查特定的软件包是否已经安装"><a href="#_45-检查特定的软件包是否已经安装" class="header-anchor">#</a> 45）检查特定的软件包是否已经安装</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 检查特定的软件包是否已经安装   </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;你需要制定一个软件包名称作为脚本参数&quot;</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;用法:<span class="token variable">$0</span> 软件包名称 ...&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># $@提取所有的位置变量的值,相当于$*  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">package</span> <span class="token keyword">in</span> <span class="token string">&quot;<span class="token variable">$@</span>&quot;</span>  
<span class="token keyword">do</span>  
    <span class="token keyword">if</span> <span class="token function">rpm</span> <span class="token parameter variable">-q</span> <span class="token variable">${package}</span> <span class="token operator">&amp;&gt;</span>/dev/null <span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${package}</span><span class="token entity" title="\033">\033</span>[32m 已经安装<span class="token entity" title="\033">\033</span>[0m&quot;</span>  
    <span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${package}</span><span class="token entity" title="\033">\033</span>[34;1m 未安装<span class="token entity" title="\033">\033</span>[0m&quot;</span>  
    <span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_46-监控-http-服务器的状态-测试返回码"><a href="#_46-监控-http-服务器的状态-测试返回码" class="header-anchor">#</a> 46）监控 HTTP 服务器的状态(测试返回码)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 监控 HTTP 服务器的状态(测试返回码)  </span>
  
<span class="token comment"># 设置变量,url为你需要检测的目标网站的网址(IP 或域名),比如百度  </span>
<span class="token assign-left variable">url</span><span class="token operator">=</span>http://http://183.232.231.172/index.html  
  
<span class="token comment"># 定义函数 check_http:  </span>
<span class="token comment"># 使用 curl 命令检查 http 服务器的状态  </span>
<span class="token comment"># ‐m 设置curl不管访问成功或失败,最大消耗的时间为 5 秒,5 秒连接服务为相应则视为无法连接  </span>
<span class="token comment"># ‐s 设置静默连接,不显示连接时的连接速度、时间消耗等信息  </span>
<span class="token comment"># ‐o 将 curl 下载的页面内容导出到/dev/null(默认会在屏幕显示页面内容)  </span>
<span class="token comment"># ‐w 设置curl命令需要显示的内容%{http_code},指定curl返回服务器的状态码  </span>
<span class="token function-name function">check_http</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
        <span class="token assign-left variable">status_code</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">curl</span> <span class="token parameter variable">-m</span> <span class="token number">5</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-o</span> /dev/null <span class="token parameter variable">-w</span> %<span class="token punctuation">{</span>http_code<span class="token punctuation">}</span> $url<span class="token variable">)</span></span>  
<span class="token punctuation">}</span>  
  
  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
        check_http  
        <span class="token assign-left variable">date</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d‐%H:%M:%S<span class="token variable">)</span></span>  
  
  
<span class="token comment"># 生成报警邮件的内容  </span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;当前时间为:<span class="token variable">$date</span>  
        <span class="token variable">$url</span> 服务器异常,状态码为<span class="token variable">${status_code}</span>.  
        请尽快排查异常.&quot;</span> <span class="token operator">&gt;</span> /tmp/http<span class="token variable">$$</span>.pid  
  
  
<span class="token comment"># 指定测试服务器状态的函数,并根据返回码决定是发送邮件报警还是将正常信息写入日志  </span>
        <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$status_code</span> <span class="token parameter variable">-ne</span> <span class="token number">200</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
                mail <span class="token parameter variable">-s</span> Warning root <span class="token operator">&lt;</span> /tmp/http<span class="token variable">$$</span>.pid  
        <span class="token keyword">else</span>  
                <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$url</span> 连接正常&quot;</span> <span class="token operator">&gt;&gt;</span> /var/log/http.log  
        <span class="token keyword">fi</span>  
        <span class="token function">sleep</span> <span class="token number">5</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h4 id="_47-自动添加防火墙规则-开启某些服务或端口-适用于-rhel7"><a href="#_47-自动添加防火墙规则-开启某些服务或端口-适用于-rhel7" class="header-anchor">#</a> 47）自动添加防火墙规则,开启某些服务或端口(适用于 RHEL7)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 自动添加防火墙规则,开启某些服务或端口(适用于 RHEL7)  </span>
<span class="token comment">#   </span>
<span class="token comment"># 设置变量定义需要添加到防火墙规则的服务和端口号  </span>
<span class="token comment"># 使用 firewall‐cmd ‐‐get‐services 可以查看 firewall 支持哪些服务  </span>
<span class="token assign-left variable">service</span><span class="token operator">=</span><span class="token string">&quot;nfs http ssh&quot;</span>  
<span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token string">&quot;80 22 8080&quot;</span>  
  
<span class="token comment"># 循环将每个服务添加到防火墙规则中  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$service</span>  
<span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Adding <span class="token variable">$i</span> service to firewall&quot;</span>  
    firewall‐cmd  --add-service<span class="token operator">=</span><span class="token variable">${i}</span>  
<span class="token keyword">done</span>  
  
<span class="token comment">#循环将每个端口添加到防火墙规则中  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$port</span>  
<span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Adding <span class="token variable">$i</span> Port to firewall&quot;</span>  
    firewall‐cmd --add-port<span class="token operator">=</span><span class="token variable">${i}</span>/tcp  
<span class="token keyword">done</span>  
<span class="token comment">#将以上设置的临时防火墙规则,转换为永久有效的规则(确保重启后有效)  </span>
firewall‐cmd  --runtime-to-permanent  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_48-使用脚本自动创建逻辑卷"><a href="#_48-使用脚本自动创建逻辑卷" class="header-anchor">#</a> 48）使用脚本自动创建逻辑卷</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用脚本自动创建逻辑卷   </span>
  
  
<span class="token comment"># 清屏,显示警告信息,创建将磁盘转换为逻辑卷会删除数据  </span>
<span class="token function">clear</span>  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[32m           !!!!!!警告(Warning)!!!!!!<span class="token entity" title="\033">\033</span>[0m&quot;</span>  
<span class="token builtin class-name">echo</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;+++++++++++++++++++++++++++++++++++++++++++++++++&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;脚本会将整个磁盘转换为 PV,并删除磁盘上所有数据!!!&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;This Script will destroy all data on the Disk&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;+++++++++++++++++++++++++++++++++++++++++++++++++&quot;</span>  
<span class="token builtin class-name">echo</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请问是否继续 y/n?:&quot;</span> sure  
  
<span class="token comment"># 测试用户输入的是否为 y,如果不是则退出脚本  </span>
<span class="token punctuation">[</span> <span class="token variable">$sure</span> <span class="token operator">!=</span> y <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
  
<span class="token comment"># 提示用户输入相关参数(磁盘、卷组名称等数据),并测试用户是否输入了这些值,如果没有输入,则脚本退出  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入磁盘名称,如/dev/vdb:&quot;</span> disk  
<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$disk</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有输入磁盘名称&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入卷组名称:&quot;</span> vg_name  
<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$vg_name</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有输入卷组名称&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入逻辑卷名称:&quot;</span> lv_name  
<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$lv_name</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有输入逻辑卷名称&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入逻辑卷大小:&quot;</span> lv_size  
<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$lv_size</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有输入逻辑卷大小&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
<span class="token comment"># 使用命令创建逻辑卷  </span>
pvcreate <span class="token variable">$disk</span>  
vgcreate <span class="token variable">$vg_name</span> <span class="token variable">$disk</span>  
lvcreate <span class="token parameter variable">-L</span> <span class="token variable">${lv_size}</span>M <span class="token parameter variable">-n</span> <span class="token variable">${lv_name}</span>  <span class="token variable">${vg_name}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h4 id="_49-显示-cpu-厂商信息"><a href="#_49-显示-cpu-厂商信息" class="header-anchor">#</a> 49）显示 CPU 厂商信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 显示 CPU 厂商信息   </span>
<span class="token function">awk</span> <span class="token string">'/vendor_id/{print $3}'</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">uniq</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_50-删除某个目录下大小为-0-的文件"><a href="#_50-删除某个目录下大小为-0-的文件" class="header-anchor">#</a> 50）删除某个目录下大小为 0 的文件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 删除某个目录下大小为 0 的文件  </span>
  
<span class="token comment">#/var/www/html 为测试目录,脚本会清空该目录下所有 0 字节的文件  </span>
<span class="token assign-left variable">dir</span><span class="token operator">=</span><span class="token string">&quot;/var/www/html&quot;</span>  
<span class="token function">find</span> <span class="token variable">$dir</span> <span class="token parameter variable">-type</span> f <span class="token parameter variable">-size</span> <span class="token number">0</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_51-查找-linux-系统中的僵尸进程"><a href="#_51-查找-linux-系统中的僵尸进程" class="header-anchor">#</a> 51）查找 Linux 系统中的僵尸进程</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 查找 Linux 系统中的僵尸进程  </span>
<span class="token comment"># awk 判断 ps 命令输出的第 8 列为 Z 是,显示该进程的 PID 和进程命令  </span>
<span class="token function">ps</span> aux <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{if($8 == &quot;Z&quot;){print $2,$11}}'</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_52-提示用户输入年份后判断该年是否为闰年"><a href="#_52-提示用户输入年份后判断该年是否为闰年" class="header-anchor">#</a> 52）提示用户输入年份后判断该年是否为闰年</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 提示用户输入年份后判断该年是否为闰年  </span>
  
  
<span class="token comment"># 能被4整除并且并不能被100整除的年份是闰年  </span>
<span class="token comment"># 能被400整除的年份也是闰年  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个年份:&quot;</span> year  
  
  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$year</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有输入年份&quot;</span>  
    <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token comment">#使用正则测试变量 year 中是否包含大小写字母  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$year</span>&quot;</span> <span class="token operator">=~</span> <span class="token punctuation">[</span>a‐Z<span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;你输入的不是数字&quot;</span>  
    <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 判断是否为闰年  </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span>year % <span class="token number">4</span><span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span>year % <span class="token number">100</span><span class="token punctuation">]</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$year</span>年是闰年&quot;</span>    
<span class="token keyword">elif</span> <span class="token punctuation">[</span> $<span class="token punctuation">[</span>year % <span class="token number">400</span><span class="token punctuation">]</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$year</span>年是闰年&quot;</span>  
<span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$year</span>年不是闰年&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h4 id="_53-生成随机密码-urandom-版本"><a href="#_53-生成随机密码-urandom-版本" class="header-anchor">#</a> 53）生成随机密码(urandom 版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 生成随机密码(urandom 版本)   </span>
  
<span class="token comment"># /dev/urandom 文件是 Linux 内置的随机设备文件  </span>
<span class="token comment"># cat /dev/urandom 可以看看里面的内容,ctrl+c 退出查看  </span>
<span class="token comment"># 查看该文件内容后,发现内容有些太随机,包括很多特殊符号,我们需要的密码不希望使用这些符号  </span>
<span class="token comment"># tr ‐dc '_A‐Za‐z0‐9' &lt; /dev/urandom  </span>
<span class="token comment"># 该命令可以将随机文件中其他的字符删除,仅保留大小写字母,数字,下划线,但是内容还是太多  </span>
<span class="token comment"># 我们可以继续将优化好的内容通过管道传递给 head 命令,在大量数据中仅显示头 10 个字节  </span>
<span class="token comment"># 注意 A 前面有个下划线  </span>
<span class="token function">tr</span> <span class="token parameter variable">-dc</span> <span class="token string">'_A‐Za‐z0‐9'</span> <span class="token operator">&lt;</span>/dev/urandom <span class="token operator">|</span> <span class="token function">head</span> <span class="token parameter variable">-c</span> <span class="token number">10</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_54-生成随机密码-字串截取版本"><a href="#_54-生成随机密码-字串截取版本" class="header-anchor">#</a> 54）生成随机密码(字串截取版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 生成随机密码(字串截取版本)   </span>
  
<span class="token comment"># 设置变量 key,存储密码的所有可能性(密码库),如果还需要其他字符请自行添加其他密码字符  </span>
<span class="token comment"># 使用$#统计密码库的长度  </span>
<span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>  
<span class="token assign-left variable">num</span><span class="token operator">=</span><span class="token variable">${<span class="token operator">#</span>key}</span>  
<span class="token comment"># 设置初始密码为空  </span>
<span class="token assign-left variable">pass</span><span class="token operator">=</span><span class="token string">''</span>  
<span class="token comment"># 循环 8 次,生成随机密码  </span>
<span class="token comment"># 每次都是随机数对密码库的长度取余,确保提取的密码字符不超过密码库的长度  </span>
<span class="token comment"># 每次循环提取一位随机密码,并将该随机密码追加到 pass 变量的最后  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">8</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>    
  <span class="token assign-left variable">index</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token environment constant">RANDOM</span>%num<span class="token punctuation">]</span>  
  <span class="token assign-left variable">pass</span><span class="token operator">=</span><span class="token variable">$pass</span><span class="token variable">${key<span class="token operator">:</span>$index<span class="token operator">:</span>1}</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token variable">$pass</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_55-生成随机密码-uuid-版本-16-进制密码"><a href="#_55-生成随机密码-uuid-版本-16-进制密码" class="header-anchor">#</a> 55）生成随机密码(UUID 版本,16 进制密码)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 生成随机密码(UUID 版本,16 进制密码)   </span>
uuidgen  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_56-生成随机密码-进程-id-版本-数字密码"><a href="#_56-生成随机密码-进程-id-版本-数字密码" class="header-anchor">#</a> 56）生成随机密码(进程 ID 版本,数字密码)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 生成随机密码(进程 ID 版本,数字密码)  </span>
<span class="token builtin class-name">echo</span> <span class="token variable">$$</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_57-测试用户名与密码是否正确"><a href="#_57-测试用户名与密码是否正确" class="header-anchor">#</a> 57）测试用户名与密码是否正确</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 测试用户名与密码是否正确  </span>
<span class="token comment">#用户名为 tom 并且密码为 123456,则提示登录成功,否则提示登录失败  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入用户名:&quot;</span>  user  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入密码:&quot;</span>    pass  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span> <span class="token operator">==</span> <span class="token string">'tom'</span> <span class="token parameter variable">-a</span> <span class="token string">&quot;<span class="token variable">$pass</span>&quot;</span> <span class="token operator">==</span> <span class="token string">'123456'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Login successful&quot;</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Login Failed&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_58-循环测试用户名与密码是否正确"><a href="#_58-循环测试用户名与密码是否正确" class="header-anchor">#</a> 58）循环测试用户名与密码是否正确</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 循环测试用户名与密码是否正确   </span>
<span class="token comment"># 循环测试用户的账户名和密码,最大测试 3 次,输入正确提示登录成功,否则提示登录失败  </span>
<span class="token comment"># 用户名为 tom 并且密码为 123456    </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">3</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入用户名:&quot;</span> user  
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入密码:&quot;</span>   pass  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$user</span>&quot;</span> <span class="token operator">==</span> <span class="token string">'tom'</span> <span class="token parameter variable">-a</span> <span class="token string">&quot;<span class="token variable">$pass</span>&quot;</span> <span class="token operator">==</span> <span class="token string">'123456'</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Login successful&quot;</span>  
     <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Login Failed&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_59-shell-脚本的-fork-炸弹"><a href="#_59-shell-脚本的-fork-炸弹" class="header-anchor">#</a> 59）Shell 脚本的 fork 炸弹</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># Shell 脚本的 fork 炸弹   </span>
  
  
<span class="token comment"># 快速消耗计算机资源,致使计算机死机  </span>
<span class="token comment"># 定义函数名为.(点), 函数中递归调用自己并放入后台执行  </span>
.<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token builtin class-name">.</span><span class="token operator">|</span><span class="token builtin class-name">.</span><span class="token operator">&amp;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token builtin class-name">.</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_60-批量下载有序文件-pdf、图片、视频等等"><a href="#_60-批量下载有序文件-pdf、图片、视频等等" class="header-anchor">#</a> 60）批量下载有序文件(pdf、图片、视频等等)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 批量下载有序文件(pdf、图片、视频等等)  </span>
  
<span class="token comment"># 本脚本准备有序的网络资料进行批量下载操作(如 01.jpg,02.jpg,03.jpg)  </span>
<span class="token comment"># 设置资源来源的域名连接  </span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;http://www.baidu.com/&quot;</span>  
<span class="token builtin class-name">echo</span>  <span class="token string">&quot;开始下载...&quot;</span>  
<span class="token function">sleep</span> <span class="token number">2</span>  
<span class="token assign-left variable">type</span><span class="token operator">=</span>jpg  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">100</span><span class="token variable">`</span></span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;正在下载<span class="token variable">$i</span>.<span class="token variable">$type</span>&quot;</span>  
  <span class="token function">curl</span> <span class="token variable">$url</span>/<span class="token variable">$i</span><span class="token builtin class-name">.</span><span class="token variable">$type</span> <span class="token parameter variable">-o</span> /tmp/<span class="token variable">${i}</span><span class="token variable">$type</span>  
     <span class="token function">sleep</span> <span class="token number">1</span>  
<span class="token keyword">done</span>  
<span class="token comment">#curl 使用-o 选项指定下载文件另存到哪里.  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_61-显示当前计算机中所有账户的用户名称"><a href="#_61-显示当前计算机中所有账户的用户名称" class="header-anchor">#</a> 61）显示当前计算机中所有账户的用户名称</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token comment">#!/bin/bash  </span>
  
 <span class="token comment"># 显示当前计算机中所有账户的用户名称  </span>
  
<span class="token comment"># 下面使用3种不同的方式列出计算机中所有账户的用户名  </span>
<span class="token comment"># 指定以:为分隔符,打印/etc/passwd 文件的第 1 列  </span>
<span class="token function">awk</span> -F: <span class="token string">'{print $1}'</span> /etc/passwd  
  
<span class="token comment"># 指定以:为分隔符,打印/etc/passwd 文件的第 1 列  </span>
<span class="token function">cut</span> -d: <span class="token parameter variable">-f1</span> /etc/passwd  
  
<span class="token comment"># 使用 sed 的替换功能,将/etc/passwd 文件中:后面的所有内容替换为空(仅显示用户名)  </span>
<span class="token function">sed</span> <span class="token string">'s/:.*//'</span> /etc/passwd  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_62-制定目录路径-脚本自动将该目录使用-tar-命令打包备份到-data目录"><a href="#_62-制定目录路径-脚本自动将该目录使用-tar-命令打包备份到-data目录" class="header-anchor">#</a> 62）制定目录路径,脚本自动将该目录使用 tar 命令打包备份到/data目录</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 制定目录路径,脚本自动将该目录使用 tar 命令打包备份到/data目录   </span>
  
  
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> /data <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> /data  
<span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token variable">$1</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">exit</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">tar</span> <span class="token parameter variable">-czf</span> /data/<span class="token variable">$1</span>.-<span class="token variable"><span class="token variable">`</span><span class="token function">date</span> +%Y%m%d<span class="token variable">`</span></span>.tar.gz <span class="token variable">$1</span>  
<span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;该目录不存在&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_63-显示进度条-回旋镖版"><a href="#_63-显示进度条-回旋镖版" class="header-anchor">#</a> 63）显示进度条(回旋镖版)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 显示进度条(回旋镖版)  </span>
  
  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  <span class="token function">clear</span>  
  <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">20</span><span class="token punctuation">}</span>  
  <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> ‐e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[3;<span class="token variable">${i}</span>H*&quot;</span>  
    <span class="token function">sleep</span> <span class="token number">0.1</span>  
    <span class="token keyword">done</span>  
    <span class="token function">clear</span>  
    <span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">..</span><span class="token number">1</span><span class="token punctuation">}</span>  
    <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> ‐e <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[3;<span class="token variable">${i}</span>H*&quot;</span>  
    <span class="token function">sleep</span> <span class="token number">0.1</span>  
    <span class="token keyword">done</span>  
    <span class="token function">clear</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_64-安装-lamp-环境-yum-版本"><a href="#_64-安装-lamp-环境-yum-版本" class="header-anchor">#</a> 64）安装 LAMP 环境(yum 版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 安装 LAMP 环境(yum 版本)   </span>
<span class="token comment"># 本脚本适用于 RHEL7(RHEL6 中数据库为 mysql)  </span>
yum makecache <span class="token operator">&amp;&gt;</span>/dev/null  
<span class="token assign-left variable">num</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>yum repolist <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'/repolist/{print $2}'</span> <span class="token operator">|</span> <span class="token function">sed</span> <span class="token string">'s/,//'</span><span class="token variable">)</span></span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$num</span> <span class="token parameter variable">-lt</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  yum <span class="token parameter variable">-y</span> <span class="token function">install</span> httpd  
  yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mariadb mariadb-server mariadb-devel  
  yum <span class="token parameter variable">-y</span> <span class="token function">install</span> php php-mysql  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;未配置 yum 源...&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_65-循环关闭局域网中所有主机"><a href="#_65-循环关闭局域网中所有主机" class="header-anchor">#</a> 65）循环关闭局域网中所有主机</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 循环关闭局域网中所有主机   </span>
<span class="token comment"># 假设本机为 192.168.4.100,编写脚本关闭除自己外的其他所有主机  </span>
<span class="token comment"># 脚本执行,需要提前给所有其他主机传递 ssh 密钥,满足无密码连接  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">254</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
  <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-eq</span> <span class="token number">100</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token builtin class-name">continue</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;正在关闭 192.168.4.<span class="token variable">$i</span>...&quot;</span>  
  <span class="token function">ssh</span> <span class="token number">192.168</span>.4.<span class="token variable">$i</span> poweroff  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_66-获取本机-mac-地址"><a href="#_66-获取本机-mac-地址" class="header-anchor">#</a> 66）获取本机 MAC 地址</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 获取本机 MAC 地址  </span>
<span class="token function">ip</span> a s <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'BEGIN{print  &quot; 本 机 MAC 地 址 信 息 如 下 :&quot;}/^[0‐9]/{print $2;getline;if($0~/link\/ether/){print $2}}'</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-v</span> lo:  
<span class="token comment"># awk 读取 ip 命令的输出,输出结果中如果有以数字开始的行,先显示该行的地 2 列(网卡名称),  </span>
<span class="token comment"># 接着使用 getline 再读取它的下一行数据,判断是否包含 link/ether  </span>
<span class="token comment"># 如果保护该关键词,就显示该行的第 2 列(MAC 地址)  </span>
<span class="token comment"># lo 回环设备没有 MAC,因此将其屏蔽,不显示  </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="_67-自动配置-rsynd-服务器的配置文件-rsyncd-conf"><a href="#_67-自动配置-rsynd-服务器的配置文件-rsyncd-conf" class="header-anchor">#</a> 67）自动配置 rsynd 服务器的配置文件 rsyncd.conf</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 自动配置 rsynd 服务器的配置文件 rsyncd.conf  </span>
  
<span class="token comment"># See rsyncd.conf man page for more options.  </span>
  
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> /home/ftp <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> /home/ftp  
<span class="token builtin class-name">echo</span> <span class="token string">'uid = nobody  
gid = nobody  
use chroot = yes  
max connections = 4  
pid file = /var/run/rsyncd.pid  
exclude = lost+found/  
transfer logging = yes  
timeout = 900  
ignore nonreadable = yes  
dont compress   = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2  
[ftp]  
    path = /home/ftp  
    comment = share'</span> <span class="token operator">&gt;</span> /etc/rsyncd.conf  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="_68-修改-linux-系统的最大打开文件数量"><a href="#_68-修改-linux-系统的最大打开文件数量" class="header-anchor">#</a> 68）修改 Linux 系统的最大打开文件数量</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 修改 Linux 系统的最大打开文件数量   </span>
  
<span class="token comment"># 往/etc/security/limits.conf 文件的末尾追加两行配置参数,修改最大打开文件数量为 65536  </span>
<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /etc/security/limits.conf <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
* soft nofile  65536  
* hard nofile  65536  
EOF</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_69-设置-python-支持自动命令补齐功能"><a href="#_69-设置-python-支持自动命令补齐功能" class="header-anchor">#</a> 69）设置 Python 支持自动命令补齐功能</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 设置 Python 支持自动命令补齐功能   </span>
  
<span class="token comment"># Summary:Enable tab complete for python  </span>
<span class="token comment"># Description:  </span>
  
Needs <span class="token function">import</span> readline and rlcompleter module  
<span class="token comment">#  </span>
<span class="token function">import</span> readline  
<span class="token comment">#  </span>
<span class="token function">import</span> rlcompleter  
<span class="token comment">#  </span>
help<span class="token punctuation">(</span>rlcompleter<span class="token punctuation">)</span> display detail: readline.parse_and_bind<span class="token punctuation">(</span><span class="token string">'tab: complete'</span><span class="token punctuation">)</span>  
<span class="token comment">#  </span>
<span class="token function">man</span> python display detail: PYTHONSTARTUP variable  
  
<span class="token keyword">if</span>  <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-f</span> /usr/bin/tab.py <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /usr/bin/tab.py <span class="token operator">&lt;&lt;</span><span class="token string">EOF  
import readline  
import rlcompleter  
readline.parse_and_bind('tab: complete')  
EOF</span>  
<span class="token keyword">fi</span>  
<span class="token function">sed</span>  <span class="token parameter variable">-i</span> <span class="token string">'$a export PYTHONSTARTUP=/usr/bin/tab.py'</span> /etc/profile  
<span class="token builtin class-name">source</span> /etc/profile  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h4 id="_70-自动修改计划任务配置文件"><a href="#_70-自动修改计划任务配置文件" class="header-anchor">#</a> 70）自动修改计划任务配置文件</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>Docker+K8s+Jenkins 主流技术全解视频资料【干货免费分享】  
  
<span class="token comment">#!/bin/bash  </span>
  
<span class="token comment"># 自动修改计划任务配置文件   </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入分钟信息(00‐59):&quot;</span> min  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入小时信息(00‐24):&quot;</span> hour  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入日期信息(01‐31):&quot;</span> <span class="token function">date</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入月份信息(01‐12):&quot;</span> month  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入星期信息(00‐06):&quot;</span> weak  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入计划任务需要执行的命令或脚本:&quot;</span> program  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$min</span> <span class="token variable">$hour</span> <span class="token variable">$date</span> <span class="token variable">$month</span> <span class="token variable">$weak</span> <span class="token variable">$program</span>&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/crontab  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_71-使用脚本循环创建三位数字的文本文件-111-999-的文件"><a href="#_71-使用脚本循环创建三位数字的文本文件-111-999-的文件" class="header-anchor">#</a> 71）使用脚本循环创建三位数字的文本文件(111-999 的文件)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用脚本循环创建三位数字的文本文件(111-999 的文件)   </span>
  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">9</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
  <span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">9</span><span class="token punctuation">}</span>  
  <span class="token keyword">do</span>  
    <span class="token keyword">for</span> <span class="token for-or-select variable">k</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">9</span><span class="token punctuation">}</span>  
    <span class="token keyword">do</span>  
      <span class="token function">touch</span> /tmp/<span class="token variable">$i</span><span class="token variable">$j</span><span class="token variable">$k</span>.txt  
    <span class="token keyword">done</span>  
    <span class="token keyword">done</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_72-找出-etc-passwd-中能登录的用户-并将对应在-etc-shadow-中第二列密码提出处理"><a href="#_72-找出-etc-passwd-中能登录的用户-并将对应在-etc-shadow-中第二列密码提出处理" class="header-anchor">#</a> 72）找出/etc/passwd 中能登录的用户,并将对应在/etc/shadow 中第二列密码提出处理</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 找出/etc/passwd 中能登录的用户,并将对应在/etc/shadow 中第二列密码提出处理  </span>
  
<span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> -F: <span class="token string">'/bash$/{print $1}'</span> /etc/passwd<span class="token variable">)</span></span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$user</span>  
<span class="token keyword">do</span>  
  <span class="token function">awk</span> -F: <span class="token parameter variable">-v</span> <span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token variable">$i</span> <span class="token string">'$1==x{print $1,$2}'</span> /etc/shadow  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="_73-统计-etc-passwd-中-root-出现的次数"><a href="#_73-统计-etc-passwd-中-root-出现的次数" class="header-anchor">#</a> 73）统计/etc/passwd 中 root 出现的次数</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计/etc/passwd 中 root 出现的次数   </span>
  
<span class="token comment">#每读取一行文件内容,即从第 1 列循环到最后 1 列,依次判断是否包含 root 关键词,如果包含则 x++  </span>
<span class="token function">awk</span> -F: <span class="token string">'{i=1;while(i&lt;=NF){if($i~/root/){x++};i++}} END{print &quot;root 出现次数为&quot;x}'</span> /etc/passwd  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_74-统计-linux-进程相关数量信息"><a href="#_74-统计-linux-进程相关数量信息" class="header-anchor">#</a> 74）统计 Linux 进程相关数量信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计 Linux 进程相关数量信息   </span>
<span class="token assign-left variable">running</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token assign-left variable">sleeping</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token assign-left variable">stoped</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token assign-left variable">zombie</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token comment"># 在 proc 目录下所有以数字开始的都是当前计算机正在运行的进程的进程 PID  </span>
<span class="token comment"># 每个 PID 编号的目录下记录有该进程相关的信息  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">pid</span> <span class="token keyword">in</span> /proc/<span class="token punctuation">[</span><span class="token number">1</span>‐9<span class="token punctuation">]</span>*  
<span class="token keyword">do</span>  
  <span class="token assign-left variable">procs</span><span class="token operator">=</span>$<span class="token punctuation">[</span>procs+1<span class="token punctuation">]</span>  
  <span class="token assign-left variable">stat</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> <span class="token string">'{print $3}'</span> $pid/stat<span class="token variable">)</span></span>  
<span class="token comment"># 每个 pid 目录下都有一个 stat 文件,该文件的第 3 列是该进程的状态信息  </span>
    <span class="token keyword">case</span> <span class="token variable">$stat</span> <span class="token keyword">in</span>  
    R<span class="token punctuation">)</span>  
    <span class="token assign-left variable">running</span><span class="token operator">=</span>$<span class="token punctuation">[</span>running+1<span class="token punctuation">]</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    T<span class="token punctuation">)</span>  
    <span class="token assign-left variable">stoped</span><span class="token operator">=</span>$<span class="token punctuation">[</span>stoped+1<span class="token punctuation">]</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    S<span class="token punctuation">)</span>  
    <span class="token assign-left variable">sleeping</span><span class="token operator">=</span>$<span class="token punctuation">[</span>sleeping+1<span class="token punctuation">]</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    Z<span class="token punctuation">)</span>  
     <span class="token assign-left variable">zombie</span><span class="token operator">=</span>$<span class="token punctuation">[</span>zombie+1<span class="token punctuation">]</span>  
     <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    <span class="token keyword">esac</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;进程统计信息如下&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;总进程数量为:<span class="token variable">$procs</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Running 进程数为:<span class="token variable">$running</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Stoped 进程数为:<span class="token variable">$stoped</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Sleeping 进程数为:<span class="token variable">$sleeping</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Zombie 进程数为:<span class="token variable">$zombie</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h4 id="_75-从键盘读取一个论坛积分-判断论坛用户等级"><a href="#_75-从键盘读取一个论坛积分-判断论坛用户等级" class="header-anchor">#</a> 75）从键盘读取一个论坛积分,判断论坛用户等级</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 从键盘读取一个论坛积分,判断论坛用户等级  </span>
  
<span class="token comment">#等级分类如下:  </span>
<span class="token comment">#  大于等于 90        神功绝世  </span>
<span class="token comment">#  大于等于 80,小于 90       登峰造极  </span>
<span class="token comment">#  大于等于 70,小于 80       炉火纯青  </span>
<span class="token comment">#  大于等于 60,小于 70       略有小成  </span>
<span class="token comment">#  小于 60               初学乍练  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入积分(0‐100):&quot;</span> JF  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$JF</span> <span class="token parameter variable">-ge</span> <span class="token number">90</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$JF</span> 分,神功绝世&quot;</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$JF</span> <span class="token parameter variable">-ge</span> <span class="token number">80</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$JF</span> 分,登峰造极&quot;</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$JF</span> <span class="token parameter variable">-ge</span> <span class="token number">70</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$JF</span> 分,炉火纯青&quot;</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$JF</span> <span class="token parameter variable">-lt</span> <span class="token number">60</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$JF</span> 分,略有小成&quot;</span>  
<span class="token keyword">else</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">$JF</span> 分,初学乍练&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="_76-判断用户输入的数据类型-字母、数字或其他"><a href="#_76-判断用户输入的数据类型-字母、数字或其他" class="header-anchor">#</a> 76）判断用户输入的数据类型(字母、数字或其他)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 判断用户输入的数据类型(字母、数字或其他)   </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入一个字符:&quot;</span> KEY  
<span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$KEY</span>&quot;</span> <span class="token keyword">in</span>  
  <span class="token punctuation">[</span>a‐z<span class="token punctuation">]</span><span class="token operator">|</span><span class="token punctuation">[</span>A‐Z<span class="token punctuation">]</span><span class="token punctuation">)</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;字母&quot;</span>   
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token punctuation">[</span><span class="token number">0</span>‐9<span class="token punctuation">]</span><span class="token punctuation">)</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;数字&quot;</span>   
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  *<span class="token punctuation">)</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;空格、功能键或其他控制字符&quot;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_77-显示进度条-数字版"><a href="#_77-显示进度条-数字版" class="header-anchor">#</a> 77）显示进度条(数字版)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 显示进度条(数字版)   </span>
<span class="token comment"># echo 使用‐e 选项后,在打印参数中可以指定 H,设置需要打印内容的 x,y 轴的定位坐标  </span>
<span class="token comment"># 设置需要打印内容在第几行,第几列  </span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">..</span><span class="token number">100</span><span class="token punctuation">}</span>  
<span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[6;8H[&quot;</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[6;9H<span class="token variable">$i</span>%&quot;</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[6;13H]&quot;</span>  
    <span class="token function">sleep</span> <span class="token number">0.1</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_78-打印斐波那契数列"><a href="#_78-打印斐波那契数列" class="header-anchor">#</a> 78）打印斐波那契数列</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 打印斐波那契数列(该数列的特点是后一个数字,永远都是前 2 个数字之和)   </span>
  
<span class="token comment"># 斐波那契数列后一个数字永远是前 2 个数字之和  </span>
<span class="token comment"># 如:0  1  1  2  3  5  8  13 ... ...  </span>
<span class="token assign-left variable">list</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span> <span class="token number">1</span><span class="token punctuation">)</span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable"><span class="token variable">`</span><span class="token function">seq</span> <span class="token number">2</span> <span class="token number">11</span><span class="token variable">`</span></span>  
<span class="token keyword">do</span>  
  list<span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $<span class="token punctuation">{</span>list<span class="token punctuation">[</span>‐1<span class="token punctuation">]</span><span class="token punctuation">}</span> + $<span class="token punctuation">{</span>list<span class="token punctuation">[</span>‐2<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token variable">`</span></span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token variable">${list<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_79-判断用户输入的是-yes-或-no"><a href="#_79-判断用户输入的是-yes-或-no" class="header-anchor">#</a> 79）判断用户输入的是 Yes 或 NO</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 判断用户输入的是 Yes 或 NO   </span>
  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span>  <span class="token string">&quot;Are you sure?[y/n]:&quot;</span>  sure  
<span class="token keyword">case</span>  <span class="token variable">$sure</span>  <span class="token keyword">in</span>  
  y<span class="token operator">|</span>Y<span class="token operator">|</span>Yes<span class="token operator">|</span>YES<span class="token punctuation">)</span>    
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;you enter <span class="token variable">$a</span>&quot;</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    n<span class="token operator">|</span>N<span class="token operator">|</span>NO<span class="token operator">|</span>no<span class="token punctuation">)</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;you enter <span class="token variable">$a</span>&quot;</span>  
     <span class="token punctuation">;</span><span class="token punctuation">;</span>  
    *<span class="token punctuation">)</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span><span class="token punctuation">;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="_80-显示本机-linux-系统上所有开放的端口列表"><a href="#_80-显示本机-linux-系统上所有开放的端口列表" class="header-anchor">#</a> 80）显示本机 Linux 系统上所有开放的端口列表</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 显示本机 Linux 系统上所有开放的端口列表   </span>
  
<span class="token comment"># 从端口列表中观测有没有没用的端口,有的话可以将该端口对应的服务关闭,防止意外的攻击可能性  </span>
ss <span class="token parameter variable">-nutlp</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $1,$5}'</span> <span class="token operator">|</span> <span class="token function">awk</span> -F<span class="token string">&quot;[: ]&quot;</span> <span class="token string">'{print &quot;协议:&quot;$1,&quot;端口号:&quot;$NF}'</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;[0‐9]&quot;</span> <span class="token operator">|</span> <span class="token function">uniq</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_81-将-linux-系统中-uid-大于等于-1000-的普通用户都删除"><a href="#_81-将-linux-系统中-uid-大于等于-1000-的普通用户都删除" class="header-anchor">#</a> 81）将 Linux 系统中 UID 大于等于 1000 的普通用户都删除</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 将 Linux 系统中 UID 大于等于 1000 的普通用户都删除   </span>
  
<span class="token comment"># 先用 awk 提取所有 uid 大于等于 1000 的普通用户名称  </span>
<span class="token comment"># 再使用 for 循环逐个将每个用户删除即可  </span>
<span class="token assign-left variable">user</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">awk</span> -F: <span class="token string">'$3&gt;=1000{print $1}'</span> /etc/passwd<span class="token variable">)</span></span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$user</span>  
<span class="token keyword">do</span>  
     <span class="token function">userdel</span> <span class="token parameter variable">-r</span> <span class="token variable">$i</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_82-使用脚本开启关闭虚拟机"><a href="#_82-使用脚本开启关闭虚拟机" class="header-anchor">#</a> 82）使用脚本开启关闭虚拟机</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用脚本开启关闭虚拟机   </span>
<span class="token comment"># 脚本通过调用virsh命令实现对虚拟机的管理,如果没有该命令,需要安装 libvirt‐client 软件包  </span>
<span class="token comment"># $1是脚本的第1个参数,$2是脚本的第2个参数  </span>
<span class="token comment"># 第1个参数是你希望对虚拟机进行的操作指令,第2个参数是虚拟机名称  </span>
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>  
  list<span class="token punctuation">)</span>  
    <span class="token function">virsh</span> list <span class="token parameter variable">--all</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  start<span class="token punctuation">)</span>  
    <span class="token function">virsh</span> start <span class="token variable">$2</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  stop<span class="token punctuation">)</span>  
    <span class="token function">virsh</span> destroy <span class="token variable">$2</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token builtin class-name">enable</span><span class="token punctuation">)</span>  
    <span class="token function">virsh</span> autostart <span class="token variable">$2</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  disable<span class="token punctuation">)</span>  
    <span class="token function">virsh</span> autostart <span class="token parameter variable">--disable</span> <span class="token variable">$2</span>  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  *<span class="token punctuation">)</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage:<span class="token variable">$0</span> list&quot;</span>  
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage:<span class="token variable">$0</span> [start|stop|enable|disable]  VM_name&quot;</span>  
    <span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> EOF  
    <span class="token comment">#list      显示虚拟机列表  </span>
    <span class="token comment">#start     启动虚拟机  </span>
    <span class="token comment">#stop      关闭虚拟机  </span>
    <span class="token comment">#enable    设置虚拟机为开机自启  </span>
    <span class="token comment">#disable   关闭虚拟机开机自启功能  </span>
    EOF  
    <span class="token punctuation">;</span><span class="token punctuation">;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h4 id="_83-调整虚拟机内存参数的-shell-脚本"><a href="#_83-调整虚拟机内存参数的-shell-脚本" class="header-anchor">#</a> 83）调整虚拟机内存参数的 shell 脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 调整虚拟机内存参数的 shell 脚本   </span>
<span class="token comment"># 脚本通过调用 virsh 命令实现对虚拟机的管理,如果没有该命令,需要安装 libvirt‐client 软件包  </span>
<span class="token function">cat</span> <span class="token operator">&lt;&lt;</span> <span class="token string">EOF  
1.调整虚拟机最大内存数值  
2.调整实际分配给虚拟机的内存数值  
EOF</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请选择[1‐2]:&quot;</span> <span class="token keyword">select</span>  
<span class="token keyword">case</span> <span class="token variable">$select</span> <span class="token keyword">in</span>  
  <span class="token number">1</span><span class="token punctuation">)</span>  
      <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入虚拟机名称&quot;</span> name  
      <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入最大内存数值(单位:k):&quot;</span> size  
      <span class="token function">virsh</span> setmaxmem <span class="token variable">$name</span> <span class="token parameter variable">--size</span> <span class="token variable">$size</span> <span class="token parameter variable">--config</span>  
      <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  <span class="token number">2</span><span class="token punctuation">)</span>  
      <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入虚拟机名称&quot;</span> name  
      <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入实际分配内存数值(单位:k):&quot;</span> size  
      <span class="token function">virsh</span> setmem <span class="token variable">$name</span> <span class="token variable">$size</span>  
      <span class="token punctuation">;</span><span class="token punctuation">;</span>  
  *<span class="token punctuation">)</span>  
      <span class="token builtin class-name">echo</span> <span class="token string">&quot;Error&quot;</span>  
      <span class="token punctuation">;</span><span class="token punctuation">;</span>  
<span class="token keyword">esac</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_84-查看-kvm-虚拟机中的网卡信息-不需要进入启动或进入虚拟机"><a href="#_84-查看-kvm-虚拟机中的网卡信息-不需要进入启动或进入虚拟机" class="header-anchor">#</a> 84）查看 KVM 虚拟机中的网卡信息(不需要进入启动或进入虚拟机)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 查看 KVM 虚拟机中的网卡信息(不需要进入启动或进入虚拟机)   </span>
  
<span class="token comment"># 该脚本使用 guestmount 工具,可以将虚拟机的磁盘系统挂载到真实机文件系统中  </span>
<span class="token comment"># Centos7.2 中安装 libguestfs‐tools‐c 可以获得 guestmount 工具  </span>
<span class="token comment"># 虚拟机可以启动或者不启动都不影响该脚本的使用  </span>
<span class="token comment"># 将虚拟机磁盘文件挂载到文件系统后,就可以直接读取磁盘文件中的网卡配置文件中的数据  </span>
<span class="token function">clear</span>  
<span class="token assign-left variable">mountpoint</span><span class="token operator">=</span><span class="token string">&quot;/media/virtimage&quot;</span>  
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token variable">$mountpoint</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token variable">$mountpoint</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;输入虚拟机名称:&quot;</span> name  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;请稍后...&quot;</span>  
<span class="token comment"># 如果有设备挂载到该挂载点,则先 umount 卸载  </span>
<span class="token keyword">if</span> <span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">&quot;<span class="token variable">$mountpoint</span>&quot;</span> <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">umount</span> <span class="token variable">$mountpoint</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 只读的方式,将虚拟机的磁盘文件挂载到特定的目录下,这里是/media/virtimage 目录  </span>
guestmount <span class="token parameter variable">-r</span> <span class="token parameter variable">-d</span> <span class="token variable">$name</span> <span class="token parameter variable">-i</span> <span class="token variable">$mountpoint</span>  
<span class="token builtin class-name">echo</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[32m<span class="token variable">$name</span> 虚拟机中网卡列表如下:<span class="token entity" title="\033">\033</span>[0m&quot;</span>  
<span class="token assign-left variable">dev</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> /media/virtimage/etc/sysconfig/network‐scripts/ifcfg-* <span class="token operator">|</span><span class="token function">awk</span> -F<span class="token string">&quot;[/‐]&quot;</span> <span class="token string">'{print $9}'</span><span class="token variable">)</span></span>  
<span class="token builtin class-name">echo</span> <span class="token variable">$dev</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐‐&quot;</span>  
<span class="token builtin class-name">echo</span>  
<span class="token builtin class-name">echo</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;+++++++++++++++++++++++++++++++++++++++++++&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[32m 网卡 IP 地址信息如下:<span class="token entity" title="\033">\033</span>[0m&quot;</span>  
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$dev</span>  
<span class="token keyword">do</span>  
  <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$i</span>:&quot;</span>  
  <span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">&quot;IPADDR&quot;</span> /media/virtimage/etc/sysconfig/network‐scripts/ifcfg-<span class="token variable">$i</span> <span class="token operator">||</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;未配置 IP地址&quot;</span>  
  <span class="token function">awk</span> <span class="token parameter variable">-F</span><span class="token operator">=</span> <span class="token string">'/IPADDR/{print $2}'</span> /media/virtimage/etc/sysconfig/network-scripts/ifcfg-<span class="token variable">$i</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;+++++++++++++++++++++++++++++++++++++++++++&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h4 id="_85-不登陆虚拟机-修改虚拟机网卡-ip-地址"><a href="#_85-不登陆虚拟机-修改虚拟机网卡-ip-地址" class="header-anchor">#</a> 85）不登陆虚拟机,修改虚拟机网卡 IP 地址</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 不登陆虚拟机,修改虚拟机网卡 IP 地址   </span>
  
<span class="token comment"># 该脚本使用 guestmount 工具,Centos7.2 中安装 libguestfs‐tools‐c 可以获得 guestmount 工具  </span>
<span class="token comment"># 脚本在不登陆虚拟机的情况下,修改虚拟机的 IP 地址信息  </span>
<span class="token comment"># 在某些环境下,虚拟机没有 IP 或 IP 地址与真实主机不在一个网段  </span>
<span class="token comment"># 真实主机在没有 virt‐manger 图形的情况下,远程连接虚拟机很麻烦  </span>
<span class="token comment"># 该脚本可以解决类似的问题  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入虚拟机名称:&quot;</span> name  
<span class="token keyword">if</span> <span class="token function">virsh</span> domstate <span class="token variable">$name</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> running <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;修改虚拟机网卡数据,需要关闭虚拟机&quot;</span>  
  <span class="token function">virsh</span> destroy <span class="token variable">$name</span>  
<span class="token keyword">fi</span>  
<span class="token assign-left variable">mountpoint</span><span class="token operator">=</span><span class="token string">&quot;/media/virtimage&quot;</span>  
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token variable">$mountpoint</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token variable">$mountpoint</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;请稍后...&quot;</span>  
<span class="token keyword">if</span> <span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">&quot;<span class="token variable">$mountpoint</span>&quot;</span> <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">umount</span> <span class="token variable">$mountpoint</span>  
<span class="token keyword">fi</span>  
guestmount  <span class="token parameter variable">-d</span> <span class="token variable">$name</span> <span class="token parameter variable">-i</span> <span class="token variable">$mountpoint</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入需要修改的网卡名称:&quot;</span> dev  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入 IP 地址:&quot;</span> addr  
<span class="token comment"># 判断原本网卡配置文件中是否有 IP 地址,有就修改该 IP,没有就添加一个新的 IP 地址  </span>
<span class="token keyword">if</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">&quot;IPADDR&quot;</span>  <span class="token variable">$mountpoint</span>/etc/sysconfig/network‐scripts/ifcfg‐<span class="token variable">$dev</span> <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/IPADDR/s/=.*/=<span class="token variable">$addr</span>/&quot;</span>  <span class="token variable">$mountpoint</span>/etc/sysconfig/network‐scripts/ifcfg‐<span class="token variable">$dev</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;IPADDR=<span class="token variable">$addr</span>&quot;</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$mountpoint</span>/etc/sysconfig/network‐scripts/ifcfg‐<span class="token variable">$dev</span>  
<span class="token keyword">fi</span>  
<span class="token comment"># 如果网卡配置文件中有客户配置的 IP 地址,则脚本提示修改 IP 完成  </span>
<span class="token function">awk</span> <span class="token parameter variable">-F</span><span class="token operator">=</span> <span class="token parameter variable">-v</span> <span class="token assign-left variable">x</span><span class="token operator">=</span><span class="token variable">$addr</span> <span class="token string">'$2==x{print &quot;完成...&quot;}'</span>  <span class="token variable">$mountpoint</span>/etc/sysconfig/network‐scripts/ifcfg-<span class="token variable">$dev</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h4 id="_86-破解虚拟机密码-无密码登陆虚拟机系统"><a href="#_86-破解虚拟机密码-无密码登陆虚拟机系统" class="header-anchor">#</a> 86）破解虚拟机密码,无密码登陆虚拟机系统</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 破解虚拟机密码,无密码登陆虚拟机系统   </span>
  
<span class="token comment"># 该脚本使用 guestmount 工具,Centos7.2 中安装 libguestfs‐tools‐c 可以获得 guestmount 工具  </span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入虚拟机名称:&quot;</span> name  
<span class="token keyword">if</span> <span class="token function">virsh</span> domstate <span class="token variable">$name</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> running <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;破解,需要关闭虚拟机&quot;</span>  
  <span class="token function">virsh</span> destroy <span class="token variable">$name</span>  
<span class="token keyword">fi</span>  
<span class="token assign-left variable">mountpoint</span><span class="token operator">=</span><span class="token string">&quot;/media/virtimage&quot;</span>  
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token variable">$mountpoint</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token variable">$mountpoint</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;请稍后...&quot;</span>  
<span class="token keyword">if</span> <span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-q</span> <span class="token string">&quot;<span class="token variable">$mountpoint</span>&quot;</span> <span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token function">umount</span> <span class="token variable">$mountpoint</span>  
<span class="token keyword">fi</span>  
guestmount <span class="token parameter variable">-d</span> <span class="token variable">$name</span> <span class="token parameter variable">-i</span> <span class="token variable">$mountpoint</span>  
<span class="token comment"># 将 passwd 中密码占位符号 x 删除,该账户即可实现无密码登陆系统  </span>
<span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;/^root/s/x//&quot;</span> <span class="token variable">$mountpoint</span>/etc/passwd  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_87-shell-脚本对信号的处理-执行脚本后-按键盘-ctrl-c-无法终止的脚本"><a href="#_87-shell-脚本对信号的处理-执行脚本后-按键盘-ctrl-c-无法终止的脚本" class="header-anchor">#</a> 87）Shell 脚本对信号的处理,执行脚本后,按键盘 Ctrl+C 无法终止的脚本</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># Shell 脚本对信号的处理,执行脚本后,按键盘 Ctrl+C 无法终止的脚本   </span>
<span class="token comment"># 使用 trap 命令可以拦截用户通过键盘或 kill 命令发送过来的信号  </span>
<span class="token comment"># 使用 kill ‐l 可以查看 Linux 系统中所有的信号列表,其中 2 代表 Ctrl+C  </span>
<span class="token comment"># trap 当发现有用户 ctrl+C 希望终端脚本时,就执行 echo &quot;暂停 10s&quot;;sleep 10 这两条命令  </span>
<span class="token comment"># 另外用户使用命令:[ kill ‐2 脚本的 PID ] 也可以中断脚本和 Ctrl+C 一样的效果,都会被 trap 拦截  </span>
<span class="token builtin class-name">trap</span> <span class="token string">'echo &quot;暂停 10s&quot;;sleep 10'</span> <span class="token number">2</span>  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;go go go&quot;</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_88-一键部署-memcached"><a href="#_88-一键部署-memcached" class="header-anchor">#</a> 88）一键部署 memcached</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 一键部署 memcached   </span>
<span class="token comment"># 脚本用源码来安装 memcached 服务器  </span>
<span class="token comment"># 注意:如果软件的下载链接过期了,请更新 memcached 的下载链接  </span>
<span class="token function">wget</span> http://www.memcached.org/files/memcached-1.5.1.tar.gz  
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc  
<span class="token function">tar</span> <span class="token parameter variable">-xf</span>  memcached‐1.5.1.tar.gz  
<span class="token builtin class-name">cd</span> memcached‐1.5.1  
./configure  
<span class="token function">make</span>  
<span class="token function">make</span> <span class="token function">install</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_89-一键配置-vnc-远程桌面服务器-无密码版本"><a href="#_89-一键配置-vnc-远程桌面服务器-无密码版本" class="header-anchor">#</a> 89）一键配置 VNC 远程桌面服务器(无密码版本)</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 一键配置 VNC 远程桌面服务器(无密码版本)  </span>
  
<span class="token comment"># 脚本配置的 VNC 服务器,客户端无需密码即可连接  </span>
<span class="token comment"># 客户端仅有查看远程桌面的权限,没有鼠标和键盘的操作权限  </span>
  
<span class="token function">rpm</span> <span class="token parameter variable">--quiet</span> <span class="token parameter variable">-q</span> tigervnc‐server  
<span class="token keyword">if</span> <span class="token punctuation">[</span>  <span class="token variable">$?</span> <span class="token parameter variable">-ne</span>  <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  yum  <span class="token parameter variable">-y</span>  tigervnc‐server  
<span class="token keyword">fi</span>  
x0vncserver <span class="token assign-left variable">AcceptKeyEvents</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">AlwaysShared</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>  
<span class="token assign-left variable">AcceptPointerEvents</span><span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">SecurityTypes</span><span class="token operator">=</span>None  <span class="token assign-left variable">rfbport</span><span class="token operator">=</span><span class="token number">5908</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_90-关闭-selinux"><a href="#_90-关闭-selinux" class="header-anchor">#</a> 90）关闭 SELinux</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 关闭 SELinux   </span>
  
<span class="token function">sed</span> <span class="token parameter variable">-i</span>  <span class="token string">'/^SELINUX/s/=.*/=disabled/'</span> /etc/selinux/config  
setenforce <span class="token number">0</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_91-查看所有虚拟机磁盘使用量以及cpu使用量信息"><a href="#_91-查看所有虚拟机磁盘使用量以及cpu使用量信息" class="header-anchor">#</a> 91）查看所有虚拟机磁盘使用量以及CPU使用量信息</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 查看所有虚拟机磁盘使用量以及CPU使用量信息   </span>
  
virt‐df  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-n1</span> <span class="token string">&quot;按任意键继续&quot;</span> key  
virt‐top  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_92-使用-shell-脚本打印图形"><a href="#_92-使用-shell-脚本打印图形" class="header-anchor">#</a> 92）使用 shell 脚本打印图形</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用 shell 脚本打印如下图形:   </span>
<span class="token comment"># 打印第一组图片  </span>
<span class="token comment"># for(())为类 C 语言的语法格式,也可以使用 for i  in;do  ;done 的格式替换  </span>
<span class="token comment"># for((i=1;i&lt;=9;i++))循环会执行 9 次,i 从 1 开始到 9,每循环一次 i 自加 1  </span>
<span class="token function">clear</span>  
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">9</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
<span class="token keyword">do</span>  
  <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
  <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot;<span class="token variable">$i</span>&quot;</span>  
  <span class="token keyword">done</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">read</span>  <span class="token parameter variable">-n1</span>  <span class="token string">&quot;按任意键继续&quot;</span>  key  
<span class="token comment">#打印第二组图片  </span>
<span class="token function">clear</span>  
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span>   
<span class="token keyword">do</span>  
  <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
  <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot; |&quot;</span>  
  <span class="token keyword">done</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;_ &quot;</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">read</span>  <span class="token parameter variable">-n1</span>  <span class="token string">&quot;按任意键继续&quot;</span>  key  
<span class="token comment">#打印第三组图片  </span>
<span class="token function">clear</span>  
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
<span class="token keyword">do</span>  
  <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
  <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot; *&quot;</span>  
  <span class="token keyword">done</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span>  
<span class="token keyword">done</span>  
<span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> i<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">&gt;=</span><span class="token number">1</span><span class="token punctuation">;</span> i‐‐ <span class="token punctuation">))</span></span>  
<span class="token keyword">do</span>  
  <span class="token keyword">for</span> <span class="token variable"><span class="token punctuation">((</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;=</span>i<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">))</span></span>  
  <span class="token keyword">do</span>  
    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-n</span> <span class="token string">&quot; *&quot;</span>  
  <span class="token keyword">done</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;&quot;</span>  
<span class="token keyword">done</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><h4 id="_93-根据计算机当前时间-返回问候语-可以将该脚本设置为开机启动"><a href="#_93-根据计算机当前时间-返回问候语-可以将该脚本设置为开机启动" class="header-anchor">#</a> 93）根据计算机当前时间,返回问候语,可以将该脚本设置为开机启动</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 根据计算机当前时间,返回问候语,可以将该脚本设置为开机启动   </span>
  
<span class="token comment"># 00‐12 点为早晨,12‐18 点为下午,18‐24 点为晚上  </span>
<span class="token comment"># 使用 date 命令获取时间后,if 判断时间的区间,确定问候语内容  </span>
<span class="token assign-left variable">tm</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%H<span class="token variable">)</span></span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$tm</span> <span class="token parameter variable">-le</span> <span class="token number">12</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;Good Morning <span class="token environment constant">$USER</span>&quot;</span>  
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$tm</span> <span class="token parameter variable">-gt</span> <span class="token number">12</span> <span class="token parameter variable">-a</span> <span class="token variable">$tm</span> <span class="token parameter variable">-le</span> <span class="token number">18</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
    <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;Good Afternoon <span class="token environment constant">$USER</span>&quot;</span>  
<span class="token keyword">else</span>  
    <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">&quot;Good Night <span class="token environment constant">$USER</span>&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;当前时间是:<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +<span class="token string">&quot;%Y‐%m‐%d %H:%M:%S&quot;</span><span class="token variable">)</span></span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token entity" title="\033">\033</span>[34m<span class="token variable">$msg</span><span class="token entity" title="\033">\033</span>[0m&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h4 id="_94-读取用户输入的账户名称-将账户名写入到数组保存"><a href="#_94-读取用户输入的账户名称-将账户名写入到数组保存" class="header-anchor">#</a> 94）读取用户输入的账户名称,将账户名写入到数组保存</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 读取用户输入的账户名称,将账户名写入到数组保存   </span>
<span class="token comment"># 定义数组名称为 name,数组的下标为 i,小标从 0 开始,每输入一个账户名,下标加 1,继续存下一个账户  </span>
<span class="token comment"># 最后,输入 over,脚本输出总结性信息后脚本退出  </span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>  
<span class="token keyword">while</span> <span class="token builtin class-name">:</span>  
<span class="token keyword">do</span>  
  <span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入账户名,输入 over 结束:&quot;</span> key  
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$key</span> <span class="token operator">==</span> <span class="token string">&quot;over&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>   
    <span class="token builtin class-name">break</span>  
    <span class="token keyword">else</span>  
    name<span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$key</span>  
    <span class="token builtin class-name">let</span> i++  
    <span class="token keyword">fi</span>  
<span class="token keyword">done</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;总账户名数量:<span class="token variable">${<span class="token operator">#</span>name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>}</span>&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;<span class="token variable">${name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>}</span>&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_95-判断文件或目录是否存在"><a href="#_95-判断文件或目录是否存在" class="header-anchor">#</a> 95）判断文件或目录是否存在</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 判断文件或目录是否存在   </span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span><span class="token keyword">then</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;未输入任何参数,请输入参数&quot;</span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;用法:<span class="token variable">$0</span> [文件名|目录名]&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;该文件,存在&quot;</span>  
  <span class="token function">ls</span> <span class="token parameter variable">-l</span> <span class="token variable">$1</span>  
<span class="token keyword">else</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有该文件&quot;</span>  
<span class="token keyword">fi</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-d</span>  <span class="token variable">$1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;该目录,存在&quot;</span>  
     <span class="token function">ls</span> <span class="token parameter variable">-ld</span>  <span class="token variable">$2</span>  
<span class="token keyword">else</span>  
     <span class="token builtin class-name">echo</span> <span class="token string">&quot;没有该目录&quot;</span>  
<span class="token keyword">fi</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_96-打印各种格式的时间"><a href="#_96-打印各种格式的时间" class="header-anchor">#</a> 96）打印各种格式的时间</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 打印各种时间格式   </span>
  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示星期简称(如:Sun)&quot;</span>  
<span class="token function">date</span> +%a  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示星期全称(如:Sunday)&quot;</span>  
<span class="token function">date</span> +%A  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示月份简称(如:Jan)&quot;</span>  
<span class="token function">date</span> +%b  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示月份全称(如:January)&quot;</span>  
<span class="token function">date</span> +%B  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示数字月份(如:12)&quot;</span>  
<span class="token function">date</span> +%m  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示数字日期(如:01 号)&quot;</span>  
<span class="token function">date</span> +%d  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示数字年(如:01 号)&quot;</span>  
<span class="token function">date</span> +%Y <span class="token builtin class-name">echo</span> <span class="token string">&quot;显示年‐月‐日&quot;</span>  
<span class="token function">date</span> +%F  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示小时(24 小时制)&quot;</span>  
<span class="token function">date</span> +%H  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示分钟(00..59)&quot;</span>  
<span class="token function">date</span> +%M  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示秒&quot;</span>  
<span class="token function">date</span> +%S  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;显示纳秒&quot;</span>  
<span class="token function">date</span> +%N  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;组合显示&quot;</span>  
<span class="token function">date</span> +<span class="token string">&quot;%Y%m%d %H:%M:%S&quot;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h4 id="_97-使用-egrep-过滤-mac-地址"><a href="#_97-使用-egrep-过滤-mac-地址" class="header-anchor">#</a> 97）使用 egrep 过滤 MAC 地址</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用 egrep 过滤 MAC 地址   </span>
  
<span class="token comment"># MAC 地址由 16 进制组成,如 AA:BB:CC:DD:EE:FF  </span>
<span class="token comment"># [0‐9a‐fA‐F]{2}表示一段十六进制数值,{5}表示连续出现5组前置:的十六进制  </span>
<span class="token function">egrep</span> <span class="token string">&quot;[0‐9a‐fA‐F]{2}(:[0‐9a‐fA‐F]{2}){5}&quot;</span> <span class="token variable">$1</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_98-统计双色球各个数字的中奖概率"><a href="#_98-统计双色球各个数字的中奖概率" class="header-anchor">#</a> 98）统计双色球各个数字的中奖概率</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 统计双色球各个数字的中奖概率   </span>
  
<span class="token comment"># 往期双色球中奖号码如下:  </span>
<span class="token comment"># 01 04 11 28 31 32  16  </span>
<span class="token comment"># 04 07 08 18 23 24  02  </span>
<span class="token comment"># 02 05 06 16 28 29  04  </span>
<span class="token comment"># 04 19 22 27 30 33  01  </span>
<span class="token comment"># 05 10 18 19 30 31  03  </span>
<span class="token comment"># 02 06 11 12 19 29  06  </span>
<span class="token comment"># 统计篮球和红球数据出现的概率次数(篮球不分顺序,统计所有篮球混合在一起的概率)  </span>
<span class="token function">awk</span> <span class="token string">'{print $1&quot;\n&quot;$2&quot;\n&quot;$3&quot;\n&quot;$4&quot;\n&quot;$5&quot;\n&quot;$6}'</span> <span class="token number">1</span>.txt <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span> <span class="token operator">|</span> <span class="token function">sort</span>  
<span class="token function">awk</span> <span class="token string">'{print $7}'</span> <span class="token number">1</span>.txt <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token parameter variable">-c</span> <span class="token operator">|</span> <span class="token function">sort</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_99-生成签名私钥和证书"><a href="#_99-生成签名私钥和证书" class="header-anchor">#</a> 99）生成签名私钥和证书</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 生成签名私钥和证书   </span>
  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入存放证书的目录:&quot;</span> <span class="token function">dir</span>  
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token variable">$dir</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>  
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;该目录不存在&quot;</span>  
  <span class="token builtin class-name">exit</span>  
<span class="token keyword">fi</span>  
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;请输入密钥名称:&quot;</span> name  
<span class="token comment"># 使用 openssl 生成私钥  </span>
openssl genrsa <span class="token parameter variable">-out</span> <span class="token variable">${dir}</span>/<span class="token variable">${name}</span>.key  
<span class="token comment"># 使用 openssl 生成证书 #subj 选项可以在生成证书时,非交互自动填写 Common Name 信息  </span>
openssl req <span class="token parameter variable">-new</span> <span class="token parameter variable">-x509</span> <span class="token parameter variable">-key</span> <span class="token variable">${dir}</span>/<span class="token variable">${name}</span>.key <span class="token parameter variable">-subj</span> <span class="token string">&quot;/CN=common&quot;</span> <span class="token parameter variable">-out</span> <span class="token variable">${dir}</span>/<span class="token variable">${name}</span>.crt  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="_100-使用awk编写的wc程序"><a href="#_100-使用awk编写的wc程序" class="header-anchor">#</a> 100）使用awk编写的wc程序</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash  </span>
  
<span class="token comment"># 使用awk编写的wc程序   </span>
  
<span class="token comment"># 自定义变量 chars 变量存储字符个数,自定义变量 words 变量存储单词个数  </span>
<span class="token comment"># awk 内置变量 NR 存储行数  </span>
<span class="token comment"># length()为 awk 内置函数,用来统计每行的字符数量,因为每行都会有一个隐藏的$,所以每次统计后都+1  </span>
<span class="token comment"># wc 程序会把文件结尾符$也统计在内,可以使用 cat ‐A 文件名,查看该隐藏字符  </span>
<span class="token function">awk</span> <span class="token string">'{chars+=length($0)+1;words+=NF} END{print NR,words,chars}'</span> <span class="token variable">$1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blog/tags/?tag=Linux" title="标签">#Linux</a></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2023/06/28, 21:02:49</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/soft/springboot/use/crud/"><div>
            表CRUD
            <!----></div></a> <span class="date">03-22</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/soft/springboot/use/join/"><div>
            mybatis-plus多表关联查询
            <!----></div></a> <span class="date">03-15</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/soft/springboot/use/page/"><div>
            分页查询
            <!----></div></a> <span class="date">03-15</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/icaiwei" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/icaiwei" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://www.ic-sugar.cn" title="网站首页" target="_blank" class="iconfont icon-rss"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=476090432&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href="https://www.ic-sugar.cn/?contact=true" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span>i采薇 | blog<br> <a href="http://beian.miit.gov.cn/" target="_blank">备案</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><!----><div></div></div></div>
    <script src="/blog/assets/js/app.ea67e90e.js" defer></script><script src="/blog/assets/js/3.e1a5de68.js" defer></script><script src="/blog/assets/js/291.034b6ef4.js" defer></script><script src="/blog/assets/js/162.9eac6f47.js" defer></script><script src="/blog/assets/js/135.b8ea3e12.js" defer></script><script src="/blog/assets/js/139.9cb4f8b1.js" defer></script>
  </body>
</html>
