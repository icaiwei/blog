(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{2955:function(a,s,t){"use strict";t.r(s);var e=t(0),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"数据卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷"}},[a._v("#")]),a._v(" 数据卷")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("数据卷是宿主机中的一个目录或文件")])]),a._v(" "),s("li",[s("p",[a._v("当容器目录和数据卷目录绑定后，对方的修改会立即同步")])]),a._v(" "),s("li",[s("p",[a._v("一个数据卷可以被多个容器同时挂载")])]),a._v(" "),s("li",[s("p",[a._v("一个容器也可以被挂载多个数据卷")])])]),a._v(" "),s("h2",{attrs:{id:"数据卷作用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷作用"}},[a._v("#")]),a._v(" 数据卷作用")]),a._v(" "),s("ul",[s("li",[a._v("容器数据持久化")]),a._v(" "),s("li",[a._v("外部集齐与容器间接通信")]),a._v(" "),s("li",[a._v("容器之间数据交换")])]),a._v(" "),s("h2",{attrs:{id:"配置数据卷"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置数据卷"}},[a._v("#")]),a._v(" 配置数据卷")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("创建启动容器时，使用 -v 参数设置数据卷")]),a._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[a._v("注意")]),a._v(" "),s("p",[a._v("注意事项：")]),a._v(" "),s("ul",[s("li",[a._v("目录必须是绝对路径")]),a._v(" "),s("li",[a._v("如果目录不存在，会自动创建")]),a._v(" "),s("li",[a._v("可以挂在多个数据卷")])])]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(". "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" 书主机目录:容器内目录\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /root/data:/root/data_container centos:7 /bin/bash\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h2",{attrs:{id:"数据卷容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据卷容器"}},[a._v("#")]),a._v(" 数据卷容器")]),a._v(" "),s("p",[a._v("多容器数据交换")]),a._v(" "),s("ol",[s("li",[a._v("多个容器挂载同一个数据卷")]),a._v(" "),s("li",[a._v("数据卷容器")])]),a._v(" "),s("h2",{attrs:{id:"配置数据卷容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置数据卷容器"}},[a._v("#")]),a._v(" 配置数据卷容器")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("创建启动c3数据卷容器，使用 -v 参数设置数据卷")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c3 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /volume centos:7\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[a._v("创建启动c1 c2容器，使用 --volumes-from参数 设置数据卷")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c1 --volumes-from c3 centos:7\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("c2 --volumes-from c3 centos:7\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);