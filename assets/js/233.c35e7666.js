(window.webpackJsonp=window.webpackJsonp||[]).push([[233],{2909:function(n,s,t){"use strict";t.r(s);var a=t(0),e=Object(a.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"窗口创建过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口创建过程"}},[n._v("#")]),n._v(" 窗口创建过程")]),n._v(" "),s("ul",[s("li",[n._v("定义WinMain函数")]),n._v(" "),s("li",[n._v("定义窗口处理函数（自定义，处理消息）")]),n._v(" "),s("li",[n._v("注册窗口类（向操作系统写入一些数据）")]),n._v(" "),s("li",[n._v("创建窗口（内存中创建窗口）")]),n._v(" "),s("li",[n._v("显示窗口（绘制窗口的图像）")]),n._v(" "),s("li",[n._v("消息循环（获取、翻译、派发消息）")]),n._v(" "),s("li",[n._v("消息处理")])]),n._v(" "),s("h2",{attrs:{id:"窗口类概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口类概念"}},[n._v("#")]),n._v(" 窗口类概念")]),n._v(" "),s("ul",[s("li",[n._v("窗口类包含了窗口的各种参数信息的数据结构")]),n._v(" "),s("li",[n._v("每个窗口都具有窗口类，基于窗口类创建窗口")]),n._v(" "),s("li",[n._v("每个窗口类都具有一个名称，使用前必须注册到系统")])]),n._v(" "),s("h2",{attrs:{id:"窗口类的分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口类的分类"}},[n._v("#")]),n._v(" 窗口类的分类")]),n._v(" "),s("ul",[s("li",[s("p",[n._v("系统窗口类")]),n._v(" "),s("p",[n._v("系统已经定义好的的窗口类，所有应用程序都可以直接使用")])]),n._v(" "),s("li",[s("p",[n._v("应用程序全局窗口类")]),n._v(" "),s("p",[n._v("由用户自己定义，当前应用程序所有模块都可以使用")])]),n._v(" "),s("li",[s("p",[n._v("应用程序局部窗口类")]),n._v(" "),s("p",[n._v("由用户自己定义，当前应用程序本模块可以使用")])])]),n._v(" "),s("h2",{attrs:{id:"窗口类结构体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口类结构体"}},[n._v("#")]),n._v(" 窗口类结构体")]),n._v(" "),s("div",{staticClass:"language-C++ line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("typedef struct WNDCLASS {\n    UINT        style;\t\t\t// 窗口类的风格\n    WNDPROC     lpfnWndProc;\t// 窗口处理函数\n    int         cbClsExtra;\t\t// 窗口类的附加数据buff大小\n    int         cbWndExtra;\t\t// 窗口的附加数据buff大小\n    HINSTANCE   hInstance;\t\t// 当前模块的实例句柄\n    HICON       hIcon;\t\t\t// 窗口图标句柄\n    HCURSOR     hCursor;\t\t// 鼠标句柄\n    HBRUSH      hbrBackground;\t// 绘制窗口背景的画刷句柄\n    LPCSTR      lpszMenuName;\t// 窗口菜单的资源ID字符串\n    LPCSTR      lpszClassName;\t// 窗口类名称\n} WNDCLASSA, *PWNDCLASSA;\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br")])]),s("h2",{attrs:{id:"窗口创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#窗口创建"}},[n._v("#")]),n._v(" 窗口创建")]),n._v(" "),s("div",{staticClass:"language-C++ line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v("WINUSERAPI\nHWND\nWINAPI\nCreateWindowExA(\n    _In_ DWORD dwExStyle,\t\t\t// 窗口扩展风格\n    _In_opt_ LPCSTR lpClassName,\t// 已注册窗口类名称\n    _In_opt_ LPCSTR lpWindowName,\t// 窗口标题栏名字\n    _In_ DWORD dwStyle,\t\t\t\t// 窗口基本风格\n    _In_ int X,\t\t\t\t\t\t// 窗口左上角水平坐标\n    _In_ int Y,\t\t\t\t\t\t// 窗口左上角垂直坐标\n    _In_ int nWidth,\t\t\t\t// 窗口宽度\n    _In_ int nHeight,\t\t\t\t// 窗口高度\n    _In_opt_ HWND hWndParent,\t\t// 窗口的父窗口句柄\n    _In_opt_ HMENU hMenu,\t\t\t// 窗口菜单句柄\n    _In_opt_ HINSTANCE hInstance,\t// 应用程序实例句柄\n    _In_opt_ LPVOID lpParam);\t\t// 创建窗口的附加参数\n")])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br")])]),s("h2",{attrs:{id:"代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[n._v("#")]),n._v(" 代码")]),n._v(" "),s("div",{staticClass:"language-C++ line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('#include <Windows.h>\n\n//窗口处理函数\nLRESULT CALLBACK WndProc(HWND hWnd, UINT msgID, WPARAM wParam, LPARAM lParam) {\n    \n\treturn DefWindowProc(hWnd, msgID, wParam, lParam);\n}\n\n//入口函数\nint CALLBACK WinMain(HINSTANCE hInstance, HINSTANCE hPreInstance, LPSTR lpCmdLine, int nCmdShow) {\n\t// 注册窗口类\n\tWNDCLASS wc = { 0 };\n\twc.cbClsExtra = 0;\n\twc.cbWndExtra = 0;\n\twc.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);\n\twc.hCursor = NULL;\n\twc.hIcon = NULL;\n\twc.hInstance = hInstance;\n\twc.lpfnWndProc = WndProc;\n\twc.lpszClassName = "Main";\n\twc.lpszMenuName = NULL;\n\twc.style = CS_HREDRAW | CS_VREDRAW;\n\n\tRegisterClass(&wc);\n\n\t//在内存中创建窗口\n\tHWND hWnd = CreateWindow("Main", "Window", WS_OVERLAPPEDWINDOW, 100, 100, 500, 500, NULL, NULL, hInstance, NULL);\n\t//显示窗口\n\tShowWindow(hWnd, SW_SHOW);\n\tUpdateWindow(hWnd);\n\t// 消息循环，避免窗口消失\n\tMSG nMsg = { 0 };\n\twhile (GetMessage(&nMsg, NULL, 0, 0))\n\t{\n\t\tTranslateMessage(&nMsg);\n\t\t//将消息交给窗口处理函数\n\t\tDispatchMessage(&nMsg);\n\t}\n\treturn 0;\n}\n\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);