(window.webpackJsonp=window.webpackJsonp||[]).push([[236],{2913:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"鼠标消息分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#鼠标消息分类"}},[s._v("#")]),s._v(" 鼠标消息分类")]),s._v(" "),n("ul",[n("li",[s._v("基本鼠标消息\n"),n("ul",[n("li",[s._v("WM_LBUTTONDOWN")]),s._v(" "),n("li",[s._v("WM_LBUTTONUP")]),s._v(" "),n("li",[s._v("WM_RBUTTONDOWN")]),s._v(" "),n("li",[s._v("WM_RBUTNUP")]),s._v(" "),n("li",[s._v("WMMOUSEMOVE")])])]),s._v(" "),n("li",[s._v("双击消息\n"),n("ul",[n("li",[s._v("WM_LBUTTONDBLCLK")]),s._v(" "),n("li",[s._v("WM_RBUTTONDBLCLK")])])]),s._v(" "),n("li",[s._v("滚轮消息\n"),n("ul",[n("li",[s._v("WM_MOUSEWHEEL")])])]),s._v(" "),n("li",[s._v("附带信息")])]),s._v(" "),n("p",[s._v("​\t\twParam-其他按键状态，例如Ctrl/Shift")]),s._v(" "),n("p",[s._v("​\t\tlParam-鼠标的位置，窗口客户区坐标系，LOWORD X坐标位置；HIWORD Y坐标位置")]),s._v(" "),n("ul",[n("li",[s._v("一般情况鼠标按下/抬起成对出现，在鼠标移动过程中，会根据移动速度产生一系列WM_MOUSEMOVE消息。")])]),s._v(" "),n("h2",{attrs:{id:"鼠标双击消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#鼠标双击消息"}},[s._v("#")]),s._v(" 鼠标双击消息")]),s._v(" "),n("ul",[n("li",[s._v("附带信息")])]),s._v(" "),n("p",[s._v("​\t\twParam-其他按键状态，例如Ctrl/Shift")]),s._v(" "),n("p",[s._v("​\t\tlParam-鼠标的位置，窗口客户区坐标系，LOWORD X坐标位置；HIWORD Y坐标位置")]),s._v(" "),n("ul",[n("li",[s._v("消息产生顺序")])]),s._v(" "),n("p",[s._v("​\t\t以左键双击为例：")]),s._v(" "),n("p",[s._v("​\t\t\tWM_LBUTTONDOWN")]),s._v(" "),n("p",[s._v("​\t\t\tWM_LBUTTON_UP")]),s._v(" "),n("p",[s._v("​\t\t\tWM_LBUTTONBLCLK")]),s._v(" "),n("p",[s._v("​\t\t\tWM_LBUTTONUP")]),s._v(" "),n("p",[s._v("​\t   使用时需要在注册窗口类的时候添加CS_DBLCLKS风格")]),s._v(" "),n("h2",{attrs:{id:"鼠标滚轮消息"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#鼠标滚轮消息"}},[s._v("#")]),s._v(" 鼠标滚轮消息")]),s._v(" "),n("ul",[n("li",[s._v("附带信息")])]),s._v(" "),n("p",[s._v("​\t\twParam-")]),s._v(" "),n("p",[s._v("​\t\t\tLOWORD-其他按键状态，例如Ctrl/Shift")]),s._v(" "),n("p",[s._v("​\t\t\tHIWORD-滚轮偏移量，通过正负值表示滚动方向，正：向前滚动，负：向后滚动")]),s._v(" "),n("p",[s._v("​\t\tlParam-鼠标的位置，窗口客户区坐标系，LOWORD X坐标位置；HIWORD Y坐标位置")]),s._v(" "),n("ul",[n("li",[s._v("通过偏移量，获取滚动的方向和距离")])]),s._v(" "),n("h2",{attrs:{id:"代码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码"}},[s._v("#")]),s._v(" 代码")]),s._v(" "),n("div",{staticClass:"language-C++ line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('//\n// Created by JS-001 on 2022/10/26 0026.\n//\n#include <Windows.h>\n#include <stdio.h>\n\nHANDLE g_hOutput = 0;//接收标准输出句柄\nvoid OnLButtonDown(HWND hWnd, WPARAM wParam, LPARAM lParam) {\n\tchar szText[256] = { 0 };\n\tsprintf_s(szText, "WM_LBUTTONDOWN:其他按键状态：%d,X=%d,Y=%d\\n", wParam, LOWORD(lParam), HIWORD(lParam));\n\tWriteConsole(g_hOutput, szText, strlen(szText), NULL, NULL);\n}\nvoid OnLButtonUp(HWND hWnd, WPARAM wParam, LPARAM lParam) {\n\tchar szText[256] = { 0 };\n\tsprintf_s(szText, "WM_LBUTTONUP:其他按键状态：%d,X=%d,Y=%d\\n", wParam, LOWORD(lParam), HIWORD(lParam));\n\tWriteConsole(g_hOutput, szText, strlen(szText), NULL, NULL);\n}\nvoid OnMouseMove(HWND hWnd, WPARAM wParam, LPARAM lParam) {\n\tchar szText[256] = { 0 };\n\tsprintf_s(szText, "WM_MOUSEMOVE:其他按键状态：%d,X=%d,Y=%d\\n", wParam, LOWORD(lParam), HIWORD(lParam));\n\t// WriteConsole(g_hOutput, szText, strlen(szText), NULL, NULL);\n}\nvoid OnLButtonDbClk(HWND hWnd, WPARAM wParam, LPARAM lParam) {\n\tchar szText[256] = { 0 };\n\tsprintf_s(szText, "WM_LBUTTONDBLCLK:其他按键状态：%d,X=%d,Y=%d\\n", wParam, LOWORD(lParam), HIWORD(lParam));\n\tWriteConsole(g_hOutput, szText, strlen(szText), NULL, NULL);\n}\n\nvoid OnMouseWheel(HWND hWnd, WPARAM wParam) {\n\tshort nDelta = HIWORD(wParam);\n\tchar szText[256] = { 0 };\n\tsprintf_s(szText, "WM_MOUSEHWHEEL:偏移量=%d\\n", nDelta);\n\tWriteConsole(g_hOutput, szText, strlen(szText), NULL, NULL);\n}\n\n//窗口处理函数\nLRESULT CALLBACK WndProc(HWND hWnd, UINT msgID, WPARAM wParam, LPARAM lParam) {\n\tswitch (msgID)\n\t{\n\tcase WM_MOUSEHWHEEL:\n\t\tOnMouseWheel(hWnd, wParam);\n\t\tbreak;\n\tcase WM_LBUTTONDBLCLK:\n\t\tOnLButtonDbClk(hWnd, wParam, lParam);\n\t\tbreak;\n\tcase WM_MOUSEMOVE:\n\t\tOnMouseMove(hWnd, wParam, lParam);\n\t\tbreak;\n\tcase WM_LBUTTONDOWN:\n\t\tOnLButtonDown(hWnd, wParam, lParam);\n\t\tbreak;\n\tcase WM_LBUTTONUP:\n\t\tOnLButtonUp(hWnd, wParam, lParam);\n\t\tbreak;\n\tcase WM_DESTROY:\n\t\tPostQuitMessage(0);//可以使GetMessage函数返回0\n\t\tbreak;\n\t}\n\treturn DefWindowProc(hWnd, msgID, wParam, lParam);\n}\n\n//入口函数\nint CALLBACK WinMain(HINSTANCE hInstance, HINSTANCE hPreInstance, LPSTR lpCmdLine, int nCmdShow) {\n\t//增加DOS\n\tAllocConsole();\n\tg_hOutput = GetStdHandle(STD_OUTPUT_HANDLE);\n\t// 注册窗口类\n\tWNDCLASS wc = { 0 };\n\twc.cbClsExtra = 0;\n\twc.cbWndExtra = 0;\n\twc.hbrBackground = (HBRUSH)(COLOR_WINDOW + 1);\n\twc.hCursor = NULL;\n\twc.hIcon = NULL;\n\twc.hInstance = hInstance;\n\twc.lpfnWndProc = WndProc;\n\twc.lpszClassName = "Main";\n\twc.lpszMenuName = NULL;\n\twc.style = CS_HREDRAW | CS_VREDRAW | CS_DBLCLKS;\n\n\tRegisterClass(&wc);\n\n\t//在内存中创建窗口\n\tchar* pszText = (char*)"hello data";\n\tHWND hWnd = CreateWindowEx(0, "Main", "Window", WS_OVERLAPPEDWINDOW, 100, 100, 500, 500, NULL, NULL, hInstance, pszText);\n\t//显示窗口\n\tShowWindow(hWnd, SW_SHOW);\n\tUpdateWindow(hWnd);\n\t// 消息循环，避免窗口消失\n\tMSG nMsg = { 0 };\n\twhile (GetMessage(&nMsg, NULL, 0, 0))\n\t{\n\t\tTranslateMessage(&nMsg);\n\t\t//将消息交给窗口处理函数\n\t\tDispatchMessage(&nMsg);\n\t}\n\treturn 0;\n\n}\n\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br"),n("span",{staticClass:"line-number"},[s._v("65")]),n("br"),n("span",{staticClass:"line-number"},[s._v("66")]),n("br"),n("span",{staticClass:"line-number"},[s._v("67")]),n("br"),n("span",{staticClass:"line-number"},[s._v("68")]),n("br"),n("span",{staticClass:"line-number"},[s._v("69")]),n("br"),n("span",{staticClass:"line-number"},[s._v("70")]),n("br"),n("span",{staticClass:"line-number"},[s._v("71")]),n("br"),n("span",{staticClass:"line-number"},[s._v("72")]),n("br"),n("span",{staticClass:"line-number"},[s._v("73")]),n("br"),n("span",{staticClass:"line-number"},[s._v("74")]),n("br"),n("span",{staticClass:"line-number"},[s._v("75")]),n("br"),n("span",{staticClass:"line-number"},[s._v("76")]),n("br"),n("span",{staticClass:"line-number"},[s._v("77")]),n("br"),n("span",{staticClass:"line-number"},[s._v("78")]),n("br"),n("span",{staticClass:"line-number"},[s._v("79")]),n("br"),n("span",{staticClass:"line-number"},[s._v("80")]),n("br"),n("span",{staticClass:"line-number"},[s._v("81")]),n("br"),n("span",{staticClass:"line-number"},[s._v("82")]),n("br"),n("span",{staticClass:"line-number"},[s._v("83")]),n("br"),n("span",{staticClass:"line-number"},[s._v("84")]),n("br"),n("span",{staticClass:"line-number"},[s._v("85")]),n("br"),n("span",{staticClass:"line-number"},[s._v("86")]),n("br"),n("span",{staticClass:"line-number"},[s._v("87")]),n("br"),n("span",{staticClass:"line-number"},[s._v("88")]),n("br"),n("span",{staticClass:"line-number"},[s._v("89")]),n("br"),n("span",{staticClass:"line-number"},[s._v("90")]),n("br"),n("span",{staticClass:"line-number"},[s._v("91")]),n("br"),n("span",{staticClass:"line-number"},[s._v("92")]),n("br"),n("span",{staticClass:"line-number"},[s._v("93")]),n("br"),n("span",{staticClass:"line-number"},[s._v("94")]),n("br"),n("span",{staticClass:"line-number"},[s._v("95")]),n("br"),n("span",{staticClass:"line-number"},[s._v("96")]),n("br"),n("span",{staticClass:"line-number"},[s._v("97")]),n("br"),n("span",{staticClass:"line-number"},[s._v("98")]),n("br"),n("span",{staticClass:"line-number"},[s._v("99")]),n("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);