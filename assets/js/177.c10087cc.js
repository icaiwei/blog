(window.webpackJsonp=window.webpackJsonp||[]).push([[177],{2452:function(n,s,a){n.exports=a.p+"assets/img/login.153f6ba6.gif"},2880:function(n,s,a){"use strict";a.r(s);var e=a(0),t=Object(e.a)({},(function(){var n=this,s=n._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[s("h2",{attrs:{id:"loginview-xaml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loginview-xaml"}},[n._v("#")]),n._v(" LoginView.xaml")]),n._v(" "),s("div",{staticClass:"language-xaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('<Window\n    x:Class="Test.Wpf.Views.LoginView"\n    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"\n    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"\n    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"\n    xmlns:hc="https://handyorg.github.io/handycontrol"\n    xmlns:local="clr-namespace:Test.Wpf.Views"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    Title="登录"\n    Width="600"\n    Height="400"\n    MinWidth="600"\n    MinHeight="400"\n    ResizeMode="NoResize"\n    WindowStartupLocation="CenterScreen"\n    mc:Ignorable="d">\n    <Grid>\n        <Grid.ColumnDefinitions>\n            <ColumnDefinition Width="1.2*" />\n            <ColumnDefinition Width="*" />\n        </Grid.ColumnDefinitions>\n        <Grid Grid.Column="0">\n            <Image\n                Width="300"\n                Height="300"\n                Source="pack://application:,,,/Resources/Images/login-box-bg.png"\n                Stretch="Fill" />\n        </Grid>\n        <Grid Grid.Column="1">\n            <StackPanel\n                Width="250"\n                Margin="0,35,0,35"\n                HorizontalAlignment="Center"\n                Orientation="Vertical">\n                <hc:OutlineText\n                    Margin="0,20,0,0"\n                    HorizontalAlignment="Center"\n                    Fill="{DynamicResource PrimaryBrush}"\n                    FontFamily="隶书"\n                    FontSize="30"\n                    FontWeight="Bold"\n                    Stroke="PaleVioletRed"\n                    StrokeThickness="2"\n                    Text="i采薇工具箱" />\n                <hc:TextBox\n                    Name="Username"\n                    Width="200"\n                    Margin="0,20,0,0"\n                    hc:InfoElement.Necessary="True"\n                    hc:InfoElement.Placeholder="请输入用户名"\n                    hc:InfoElement.ShowClearButton="True" />\n                <hc:PasswordBox\n                    Width="200"\n                    Margin="0,20,0,0"\n                    hc:InfoElement.Necessary="True"\n                    hc:InfoElement.Placeholder="请输入密码"\n                    IsSafeEnabled="False"\n                    ShowClearButton="True"\n                    ShowEyeButton="True"\n                    UnsafePassword="{Binding Path=Password, Mode=TwoWay}" />\n                <Button\n                    Name="Login"\n                    Width="200"\n                    Margin="0,20,0,0"\n                    Content="登    录"\n                    IsDefault="True"\n                    Style="{StaticResource ButtonPrimary}" />\n            </StackPanel>\n        </Grid>\n    </Grid>\n</Window>\n\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br"),s("span",{staticClass:"line-number"},[n._v("41")]),s("br"),s("span",{staticClass:"line-number"},[n._v("42")]),s("br"),s("span",{staticClass:"line-number"},[n._v("43")]),s("br"),s("span",{staticClass:"line-number"},[n._v("44")]),s("br"),s("span",{staticClass:"line-number"},[n._v("45")]),s("br"),s("span",{staticClass:"line-number"},[n._v("46")]),s("br"),s("span",{staticClass:"line-number"},[n._v("47")]),s("br"),s("span",{staticClass:"line-number"},[n._v("48")]),s("br"),s("span",{staticClass:"line-number"},[n._v("49")]),s("br"),s("span",{staticClass:"line-number"},[n._v("50")]),s("br"),s("span",{staticClass:"line-number"},[n._v("51")]),s("br"),s("span",{staticClass:"line-number"},[n._v("52")]),s("br"),s("span",{staticClass:"line-number"},[n._v("53")]),s("br"),s("span",{staticClass:"line-number"},[n._v("54")]),s("br"),s("span",{staticClass:"line-number"},[n._v("55")]),s("br"),s("span",{staticClass:"line-number"},[n._v("56")]),s("br"),s("span",{staticClass:"line-number"},[n._v("57")]),s("br"),s("span",{staticClass:"line-number"},[n._v("58")]),s("br"),s("span",{staticClass:"line-number"},[n._v("59")]),s("br"),s("span",{staticClass:"line-number"},[n._v("60")]),s("br"),s("span",{staticClass:"line-number"},[n._v("61")]),s("br"),s("span",{staticClass:"line-number"},[n._v("62")]),s("br"),s("span",{staticClass:"line-number"},[n._v("63")]),s("br"),s("span",{staticClass:"line-number"},[n._v("64")]),s("br"),s("span",{staticClass:"line-number"},[n._v("65")]),s("br"),s("span",{staticClass:"line-number"},[n._v("66")]),s("br"),s("span",{staticClass:"line-number"},[n._v("67")]),s("br"),s("span",{staticClass:"line-number"},[n._v("68")]),s("br"),s("span",{staticClass:"line-number"},[n._v("69")]),s("br"),s("span",{staticClass:"line-number"},[n._v("70")]),s("br"),s("span",{staticClass:"line-number"},[n._v("71")]),s("br"),s("span",{staticClass:"line-number"},[n._v("72")]),s("br")])]),s("h2",{attrs:{id:"loginviewmodel-xaml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loginviewmodel-xaml"}},[n._v("#")]),n._v(" LoginViewModel.xaml")]),n._v(" "),s("div",{staticClass:"language-c# line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[n._v('public class LoginViewModel : Screen\n{\n    public string Username { get; set; }\n    public string Password { get; set; }\n    public LoginViewModel()\n    {\n\n    }\n\n    public async void Login()\n    {\n        if (!(string.IsNullOrWhiteSpace(Username) && string.IsNullOrWhiteSpace(Password)))\n        {\n            string url = "/api/Login/Login";\n            LoginModel loginModel = new LoginModel();\n            loginModel.Username = Username;\n            loginModel.Password = Password;\n            var res = await RestSharpHelper.Login(url, Method.Post, loginModel);\n            if (res.Code == 200)\n            {\n                // 写配置文件\n                Properties.Settings.Default.Username = Username;\n                Properties.Settings.Default.Save();\n                // 跳转到主界面\n                IWindowManager manager = new WindowManager();\n                await manager.ShowWindowAsync(new MainViewModel(), null, null);\n                await TryCloseAsync();\n                Growl.Success("登录成功");\n            }\n            else\n            {\n                Growl.Error("登录失败");\n            }\n        }\n        else\n        {\n            Growl.Error("登录失败，请检查用户信息是否正确");\n        }\n    }\n}\n')])]),n._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[n._v("1")]),s("br"),s("span",{staticClass:"line-number"},[n._v("2")]),s("br"),s("span",{staticClass:"line-number"},[n._v("3")]),s("br"),s("span",{staticClass:"line-number"},[n._v("4")]),s("br"),s("span",{staticClass:"line-number"},[n._v("5")]),s("br"),s("span",{staticClass:"line-number"},[n._v("6")]),s("br"),s("span",{staticClass:"line-number"},[n._v("7")]),s("br"),s("span",{staticClass:"line-number"},[n._v("8")]),s("br"),s("span",{staticClass:"line-number"},[n._v("9")]),s("br"),s("span",{staticClass:"line-number"},[n._v("10")]),s("br"),s("span",{staticClass:"line-number"},[n._v("11")]),s("br"),s("span",{staticClass:"line-number"},[n._v("12")]),s("br"),s("span",{staticClass:"line-number"},[n._v("13")]),s("br"),s("span",{staticClass:"line-number"},[n._v("14")]),s("br"),s("span",{staticClass:"line-number"},[n._v("15")]),s("br"),s("span",{staticClass:"line-number"},[n._v("16")]),s("br"),s("span",{staticClass:"line-number"},[n._v("17")]),s("br"),s("span",{staticClass:"line-number"},[n._v("18")]),s("br"),s("span",{staticClass:"line-number"},[n._v("19")]),s("br"),s("span",{staticClass:"line-number"},[n._v("20")]),s("br"),s("span",{staticClass:"line-number"},[n._v("21")]),s("br"),s("span",{staticClass:"line-number"},[n._v("22")]),s("br"),s("span",{staticClass:"line-number"},[n._v("23")]),s("br"),s("span",{staticClass:"line-number"},[n._v("24")]),s("br"),s("span",{staticClass:"line-number"},[n._v("25")]),s("br"),s("span",{staticClass:"line-number"},[n._v("26")]),s("br"),s("span",{staticClass:"line-number"},[n._v("27")]),s("br"),s("span",{staticClass:"line-number"},[n._v("28")]),s("br"),s("span",{staticClass:"line-number"},[n._v("29")]),s("br"),s("span",{staticClass:"line-number"},[n._v("30")]),s("br"),s("span",{staticClass:"line-number"},[n._v("31")]),s("br"),s("span",{staticClass:"line-number"},[n._v("32")]),s("br"),s("span",{staticClass:"line-number"},[n._v("33")]),s("br"),s("span",{staticClass:"line-number"},[n._v("34")]),s("br"),s("span",{staticClass:"line-number"},[n._v("35")]),s("br"),s("span",{staticClass:"line-number"},[n._v("36")]),s("br"),s("span",{staticClass:"line-number"},[n._v("37")]),s("br"),s("span",{staticClass:"line-number"},[n._v("38")]),s("br"),s("span",{staticClass:"line-number"},[n._v("39")]),s("br"),s("span",{staticClass:"line-number"},[n._v("40")]),s("br")])]),s("h2",{attrs:{id:"修改bootstrapper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改bootstrapper"}},[n._v("#")]),n._v(" 修改Bootstrapper")]),n._v(" "),s("p",[n._v("将其中的MainViewModel改为LoginViewModel")]),n._v(" "),s("h2",{attrs:{id:"演示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#演示"}},[n._v("#")]),n._v(" 演示")]),n._v(" "),s("p",[s("img",{attrs:{src:a(2452),alt:"login"}})])])}),[],!1,null,null,null);s.default=t.exports}}]);